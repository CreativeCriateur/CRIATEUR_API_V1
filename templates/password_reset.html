<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2-Password Change</title>
  <style id="applicationStylesheet" type="text/css">
    .mediaViewInfo {
      --web-view-name: 2-Password Change;
      --web-view-id: ID2-Password_Change;
      --web-scale-on-resize: true;
      --web-enable-deep-linking: true;
    }

    :root {
      --web-view-ids: ID2-Password_Change;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      border: none;
    }

    #ID2-Password_Change {
      position: absolute;
      width: 1022px;
      height: 800px;
      background-color: rgba(244, 245, 250, 1);
      overflow: hidden;
      --web-view-name: 2-Password Change;
      --web-view-id: ID2-Password_Change;
      --web-scale-on-resize: true;
      --web-enable-deep-linking: true;
    }

    #body-bg {
      fill: rgba(255, 255, 255, 1);
    }

    .body-bg {
      position: absolute;
      overflow: visible;
      width: 515px;
      height: 563px;
      left: 254px;
      top: 64px;
    }

    #logo {
      position: absolute;
      width: 158.807px;
      height: 37.738px;
      left: 432px;
      top: 114px;
      overflow: visible;
    }

    #Group_65 {
      position: absolute;
      width: 158.807px;
      height: 37.738px;
      left: 0px;
      top: 0px;
      overflow: visible;
    }

    #Path_1332 {
      fill: rgba(255, 182, 25, 1);
    }

    .Path_1332 {
      overflow: visible;
      position: absolute;
      width: 36.228px;
      height: 37.738px;
      left: 0px;
      top: 0px;
      transform: matrix(1, 0, 0, 1, 0, 0);
    }

    #Path_14 {
      fill: rgba(48, 52, 94, 1);
    }

    .Path_14 {
      overflow: visible;
      position: absolute;
      width: 115.35px;
      height: 19.695px;
      left: 43.458px;
      top: 7.686px;
      transform: matrix(1, 0, 0, 1, 0, 0);
    }

    #Group_74 {
      position: absolute;
      width: 30.228px;
      height: 22.407px;
      left: 3.285px;
      top: 7.666px;
      overflow: visible;
    }

    #Group_63 {
      position: absolute;
      width: 24.359px;
      height: 22.407px;
      left: 0px;
      top: 0px;
      overflow: visible;
    }

    #Path_2 {
      fill: rgba(48, 52, 94, 1);
    }

    .Path_2 {
      overflow: visible;
      position: absolute;
      width: 24.359px;
      height: 22.407px;
      left: 0px;
      top: 0px;
      transform: matrix(1, 0, 0, 1, 0, 0);
    }

    #Path_24 {
      fill: rgba(48, 52, 94, 1);
    }

    .Path_24 {
      overflow: visible;
      position: absolute;
      width: 14.155px;
      height: 14.155px;
      left: 16.073px;
      top: 6.032px;
      transform: matrix(1, 0, 0, 1, 0, 0);
    }

    #reset-info {
      left: 332px;
      top: 328.5px;
      position: absolute;
      overflow: visible;
      width: 359px;
      height: 52px;
      line-height: 24px;
      margin-top: -3px;
      text-align: center;
      font-family: Nunito Sans;
      font-style: normal;
      font-weight: normal;
      font-size: 18px;
      color: rgba(104, 105, 105, 1);
    }

    #ignore-info {
      left: 349px;
      top: 552.5px;
      position: absolute;
      overflow: visible;
      width: 325px;
      height: 46px;
      line-height: 20px;
      margin-top: -3px;
      text-align: center;
      font-family: Nunito Sans;
      font-style: normal;
      font-weight: normal;
      font-size: 14px;
      color: rgba(123, 124, 124, 1);
    }

    #Changing_your_Autochek_Passwor {
      left: 339px;
      top: 202px;
      position: absolute;
      overflow: visible;
      width: 346px;
      height: 101px;
      line-height: 41px;
      margin-top: -4.5px;
      text-align: center;
      font-family: Nunito Sans;
      font-style: normal;
      font-weight: bold;
      font-size: 32px;
      color: rgba(48, 52, 94, 1);
    }

    #Reset-Button {
      position: absolute;
      width: 252px;
      height: 56px;
      left: 385px;
      top: 413px;
      overflow: visible;
    }

    #Rectangle_142 {
      fill: rgba(254, 182, 43, 1);
    }

    .Rectangle_142 {
      position: absolute;
      overflow: visible;
      width: 252px;
      height: 56px;
      left: 0px;
      top: 0px;
    }

    #Unique_opportunities {
      left: 35px;
      top: 15px;
      position: absolute;
      overflow: visible;
      width: 183px;
      white-space: nowrap;
      line-height: 33px;
      margin-top: -6.5px;
      text-align: center;
      font-family: Nunito Sans;
      font-style: normal;
      font-weight: bold;
      font-size: 20px;
      color: rgba(48, 52, 94, 1);
      text-transform: capitalize;
    }

    #divider {
      fill: transparent;
      stroke: rgba(232, 232, 232, 1);
      stroke-width: 1px;
      stroke-linejoin: miter;
      stroke-linecap: butt;
      stroke-miterlimit: 4;
      shape-rendering: auto;
    }

    .divider {
      overflow: visible;
      position: absolute;
      width: 459px;
      height: 1px;
      left: 281.5px;
      top: 519.5px;
      transform: matrix(1, 0, 0, 1, 0, 0);
    }

    #Youre_receiving_this_mandatory {
      left: 291px;
      top: 674px;
      position: absolute;
      overflow: visible;
      width: 441px;
      height: 39px;
      line-height: 20px;
      margin-top: -3px;
      text-align: center;
      font-family: Nunito Sans;
      font-style: normal;
      font-weight: normal;
      font-size: 14px;
      color: rgba(48, 52, 94, 1);
    }
  </style>
  <script id="applicationScript">
    ///////////////////////////////////////
    // INITIALIZATION
    ///////////////////////////////////////

    /**
     * Functionality for scaling, showing by media query, and navigation between multiple pages on a single page. 
     * Code subject to change.
     **/

    if (window.console == null) { window["console"] = { log: function () { } } }; // some browsers do not set console

    var Application = function () {
      // event constants
      this.prefix = "--web-";
      this.NAVIGATION_CHANGE = "viewChange";
      this.VIEW_NOT_FOUND = "viewNotFound";
      this.VIEW_CHANGE = "viewChange";
      this.VIEW_CHANGING = "viewChanging";
      this.STATE_NOT_FOUND = "stateNotFound";
      this.APPLICATION_COMPLETE = "applicationComplete";
      this.APPLICATION_RESIZE = "applicationResize";
      this.SIZE_STATE_NAME = "data-is-view-scaled";
      this.STATE_NAME = this.prefix + "state";

      this.lastTrigger = null;
      this.lastView = null;
      this.lastState = null;
      this.lastOverlay = null;
      this.currentView = null;
      this.currentState = null;
      this.currentOverlay = null;
      this.currentQuery = { index: 0, rule: null, mediaText: null, id: null };
      this.inclusionQuery = "(min-width: 0px)";
      this.exclusionQuery = "none and (min-width: 99999px)";
      this.LastModifiedDateLabelName = "LastModifiedDateLabel";
      this.viewScaleSliderId = "ViewScaleSliderInput";
      this.pageRefreshedName = "showPageRefreshedNotification";
      this.applicationStylesheet = null;
      this.mediaQueryDictionary = {};
      this.viewsDictionary = {};
      this.addedViews = [];
      this.views = {};
      this.viewIds = [];
      this.viewQueries = {};
      this.overlays = {};
      this.overlayIds = [];
      this.numberOfViews = 0;
      this.verticalPadding = 0;
      this.horizontalPadding = 0;
      this.stateName = null;
      this.viewScale = 1;
      this.viewLeft = 0;
      this.viewTop = 0;
      this.horizontalScrollbarsNeeded = false;
      this.verticalScrollbarsNeeded = false;

      // view settings
      this.showUpdateNotification = false;
      this.showNavigationControls = false;
      this.scaleViewsToFit = false;
      this.scaleToFitOnDoubleClick = false;
      this.actualSizeOnDoubleClick = false;
      this.scaleViewsOnResize = false;
      this.navigationOnKeypress = false;
      this.showViewName = false;
      this.enableDeepLinking = true;
      this.refreshPageForChanges = false;
      this.showRefreshNotifications = true;

      // view controls
      this.scaleViewSlider = null;
      this.lastModifiedLabel = null;
      this.supportsPopState = false; // window.history.pushState!=null;
      this.initialized = false;

      // refresh properties
      this.refreshDuration = 250;
      this.lastModifiedDate = null;
      this.refreshRequest = null;
      this.refreshInterval = null;
      this.refreshContent = null;
      this.refreshContentSize = null;
      this.refreshCheckContent = false;
      this.refreshCheckContentSize = false;

      var self = this;

      self.initialize = function (event) {
        var view = self.getVisibleView();
        var views = self.getVisibleViews();
        if (view == null) view = self.getInitialView();
        self.collectViews();
        self.collectOverlays();
        self.collectMediaQueries();

        for (let index = 0; index < views.length; index++) {
          var view = views[index];
          self.setViewOptions(view);
          self.setViewVariables(view);
          self.centerView(view);
        }

        // sometimes the body size is 0 so we call this now and again later
        if (self.initialized) {
          window.addEventListener(self.NAVIGATION_CHANGE, self.viewChangeHandler);
          window.addEventListener("keyup", self.keypressHandler);
          window.addEventListener("keypress", self.keypressHandler);
          window.addEventListener("resize", self.resizeHandler);
          window.document.addEventListener("dblclick", self.doubleClickHandler);

          if (self.supportsPopState) {
            window.addEventListener('popstate', self.popStateHandler);
          }
          else {
            window.addEventListener('hashchange', self.hashChangeHandler);
          }

          // we are ready to go
          window.dispatchEvent(new Event(self.APPLICATION_COMPLETE));
        }

        if (self.initialized == false) {
          if (self.enableDeepLinking) {
            self.syncronizeViewToURL();
          }

          if (self.refreshPageForChanges) {
            self.setupRefreshForChanges();
          }

          self.initialized = true;
        }

        if (self.scaleViewsToFit) {
          self.viewScale = self.scaleViewToFit(view);

          if (self.viewScale < 0) {
            setTimeout(self.scaleViewToFit, 500, view);
          }
        }
        else if (view) {
          self.viewScale = self.getViewScaleValue(view);
          self.centerView(view);
          self.updateSliderValue(self.viewScale);
        }
        else {
          // no view found
        }

        if (self.showUpdateNotification) {
          self.showNotification();
        }

        //"addEventListener" in window ? null : window.addEventListener = window.attachEvent;
        //"addEventListener" in document ? null : document.addEventListener = document.attachEvent;
      }


      ///////////////////////////////////////
      // AUTO REFRESH 
      ///////////////////////////////////////

      self.setupRefreshForChanges = function () {
        self.refreshRequest = new XMLHttpRequest();

        if (!self.refreshRequest) {
          return false;
        }

        // get document start values immediately
        self.requestRefreshUpdate();
      }

      /**
       * Attempt to check the last modified date by the headers 
       * or the last modified property from the byte array (experimental)
       **/
      self.requestRefreshUpdate = function () {
        var url = document.location.href;
        var protocol = window.location.protocol;
        var method;

        try {

          if (self.refreshCheckContentSize) {
            self.refreshRequest.open('HEAD', url, true);
          }
          else if (self.refreshCheckContent) {
            self.refreshContent = document.documentElement.outerHTML;
            self.refreshRequest.open('GET', url, true);
            self.refreshRequest.responseType = "text";
          }
          else {

            // get page last modified date for the first call to compare to later
            if (self.lastModifiedDate == null) {

              // File system does not send headers in FF so get blob if possible
              if (protocol == "file:") {
                self.refreshRequest.open("GET", url, true);
                self.refreshRequest.responseType = "blob";
              }
              else {
                self.refreshRequest.open("HEAD", url, true);
                self.refreshRequest.responseType = "blob";
              }

              self.refreshRequest.onload = self.refreshOnLoadOnceHandler;

              // In some browsers (Chrome & Safari) this error occurs at send: 
              // 
              // Chrome - Access to XMLHttpRequest at 'file:///index.html' from origin 'null' 
              // has been blocked by CORS policy: 
              // Cross origin requests are only supported for protocol schemes: 
              // http, data, chrome, chrome-extension, https.
              // 
              // Safari - XMLHttpRequest cannot load file:///Users/user/Public/index.html. Cross origin requests are only supported for HTTP.
              // 
              // Solution is to run a local server, set local permissions or test in another browser
              self.refreshRequest.send(null);

              // In MS browsers the following behavior occurs possibly due to an AJAX call to check last modified date: 
              // 
              // DOM7011: The code on this page disabled back and forward caching.

              // In Brave (Chrome) error when on the server
              // index.js:221 HEAD https://www.example.com/ net::ERR_INSUFFICIENT_RESOURCES
              // self.refreshRequest.send(null);

            }
            else {
              self.refreshRequest = new XMLHttpRequest();
              self.refreshRequest.onreadystatechange = self.refreshHandler;
              self.refreshRequest.ontimeout = function () {
                self.log("Couldn't find page to check for updates");
              }

              var method;
              if (protocol == "file:") {
                method = "GET";
              }
              else {
                method = "HEAD";
              }

              //refreshRequest.open('HEAD', url, true);
              self.refreshRequest.open(method, url, true);
              self.refreshRequest.responseType = "blob";
              self.refreshRequest.send(null);
            }
          }
        }
        catch (error) {
          self.log("Refresh failed for the following reason:")
          self.log(error);
        }
      }

      self.refreshHandler = function () {
        var contentSize;

        try {

          if (self.refreshRequest.readyState === XMLHttpRequest.DONE) {

            if (self.refreshRequest.status === 2 ||
              self.refreshRequest.status === 200) {
              var pageChanged = false;

              self.updateLastModifiedLabel();

              if (self.refreshCheckContentSize) {
                var lastModifiedHeader = self.refreshRequest.getResponseHeader("Last-Modified");
                contentSize = self.refreshRequest.getResponseHeader("Content-Length");
                //lastModifiedDate = refreshRequest.getResponseHeader("Last-Modified");
                var headers = self.refreshRequest.getAllResponseHeaders();
                var hasContentHeader = headers.indexOf("Content-Length") != -1;

                if (hasContentHeader) {
                  contentSize = self.refreshRequest.getResponseHeader("Content-Length");

                  // size has not been set yet
                  if (self.refreshContentSize == null) {
                    self.refreshContentSize = contentSize;
                    // exit and let interval call this method again
                    return;
                  }

                  if (contentSize != self.refreshContentSize) {
                    pageChanged = true;
                  }
                }
              }
              else if (self.refreshCheckContent) {

                if (self.refreshRequest.responseText != self.refreshContent) {
                  pageChanged = true;
                }
              }
              else {
                lastModifiedHeader = self.getLastModified(self.refreshRequest);

                if (self.lastModifiedDate != lastModifiedHeader) {
                  self.log("lastModifiedDate:" + self.lastModifiedDate + ",lastModifiedHeader:" + lastModifiedHeader);
                  pageChanged = true;
                }

              }


              if (pageChanged) {
                clearInterval(self.refreshInterval);
                self.refreshUpdatedPage();
                return;
              }

            }
            else {
              self.log('There was a problem with the request.');
            }

          }
        }
        catch (error) {
          //console.log('Caught Exception: ' + error);
        }
      }

      self.refreshOnLoadOnceHandler = function (event) {

        // get the last modified date
        if (self.refreshRequest.response) {
          self.lastModifiedDate = self.getLastModified(self.refreshRequest);

          if (self.lastModifiedDate != null) {

            if (self.refreshInterval == null) {
              self.refreshInterval = setInterval(self.requestRefreshUpdate, self.refreshDuration);
            }
          }
          else {
            self.log("Could not get last modified date from the server");
          }
        }
      }

      self.refreshUpdatedPage = function () {
        if (self.showRefreshNotifications) {
          var date = new Date().setTime((new Date().getTime() + 10000));
          document.cookie = encodeURIComponent(self.pageRefreshedName) + "=true" + "; max-age=6000;" + " path=/";
        }

        document.location.reload(true);
      }

      self.showNotification = function (duration) {
        var notificationID = self.pageRefreshedName + "ID";
        var notification = document.getElementById(notificationID);
        if (duration == null) duration = 4000;

        if (notification != null) { return; }

        notification = document.createElement("div");
        notification.id = notificationID;
        notification.textContent = "PAGE UPDATED";
        var styleRule = ""
        styleRule = "position: fixed; padding: 7px 16px 6px 16px; font-family: Arial, sans-serif; font-size: 10px; font-weight: bold; left: 50%;";
        styleRule += "top: 20px; background-color: rgba(0,0,0,.5); border-radius: 12px; color:rgb(235, 235, 235); transition: all 2s linear;";
        styleRule += "transform: translateX(-50%); letter-spacing: .5px; filter: drop-shadow(2px 2px 6px rgba(0, 0, 0, .1))";
        notification.setAttribute("style", styleRule);

        notification.className = "PageRefreshedClass";

        document.body.appendChild(notification);

        setTimeout(function () {
          notification.style.opacity = "0";
          notification.style.filter = "drop-shadow( 0px 0px 0px rgba(0,0,0, .5))";
          setTimeout(function () {
            notification.parentNode.removeChild(notification);
          }, duration)
        }, duration);

        document.cookie = encodeURIComponent(self.pageRefreshedName) + "=; max-age=1; path=/";
      }

      /**
       * Get the last modified date from the header 
       * or file object after request has been received
       **/
      self.getLastModified = function (request) {
        var date;

        // file protocol - FILE object with last modified property
        if (request.response && request.response.lastModified) {
          date = request.response.lastModified;
        }

        // http protocol - check headers
        if (date == null) {
          date = request.getResponseHeader("Last-Modified");
        }

        return date;
      }

      self.updateLastModifiedLabel = function () {
        var labelValue = "";

        if (self.lastModifiedLabel == null) {
          self.lastModifiedLabel = document.getElementById("LastModifiedLabel");
        }

        if (self.lastModifiedLabel) {
          var seconds = parseInt(((new Date().getTime() - Date.parse(document.lastModified)) / 1000 / 60) * 100 + "");
          var minutes = 0;
          var hours = 0;

          if (seconds < 60) {
            seconds = Math.floor(seconds / 10) * 10;
            labelValue = seconds + " seconds";
          }
          else {
            minutes = parseInt((seconds / 60) + "");

            if (minutes > 60) {
              hours = parseInt((seconds / 60 / 60) + "");
              labelValue += hours == 1 ? " hour" : " hours";
            }
            else {
              labelValue = minutes + "";
              labelValue += minutes == 1 ? " minute" : " minutes";
            }
          }

          if (seconds < 10) {
            labelValue = "Updated now";
          }
          else {
            labelValue = "Updated " + labelValue + " ago";
          }

          if (self.lastModifiedLabel.firstElementChild) {
            self.lastModifiedLabel.firstElementChild.textContent = labelValue;

          }
          else if ("textContent" in self.lastModifiedLabel) {
            self.lastModifiedLabel.textContent = labelValue;
          }
        }
      }

      self.getShortString = function (string, length) {
        if (length == null) length = 30;
        string = string != null ? string.substr(0, length).replace(/\n/g, "") : "[String is null]";
        return string;
      }

      self.getShortNumber = function (value, places) {
        if (places == null || places < 1) places = 4;
        value = Math.round(value * Math.pow(10, places)) / Math.pow(10, places);
        return value;
      }

      ///////////////////////////////////////
      // NAVIGATION CONTROLS
      ///////////////////////////////////////

      self.updateViewLabel = function () {
        var viewNavigationLabel = document.getElementById("ViewNavigationLabel");
        var view = self.getVisibleView();
        var viewIndex = view ? self.getViewIndex(view) : -1;
        var viewName = view ? self.getViewPreferenceValue(view, self.prefix + "view-name") : null;
        var viewId = view ? view.id : null;

        if (viewNavigationLabel && view) {
          if (viewName && viewName.indexOf('"') != -1) {
            viewName = viewName.replace(/"/g, "");
          }

          if (self.showViewName) {
            viewNavigationLabel.textContent = viewName;
            self.setTooltip(viewNavigationLabel, viewIndex + 1 + " of " + self.numberOfViews);
          }
          else {
            viewNavigationLabel.textContent = viewIndex + 1 + " of " + self.numberOfViews;
            self.setTooltip(viewNavigationLabel, viewName);
          }

        }
      }

      self.updateURL = function (view) {
        view = view == null ? self.getVisibleView() : view;
        var viewId = view ? view.id : null
        var viewFragment = view ? "#" + viewId : null;

        if (viewId && self.viewIds.length > 1 && self.enableDeepLinking) {

          if (self.supportsPopState == false) {
            self.setFragment(viewId);
          }
          else {
            if (viewFragment != window.location.hash) {

              if (window.location.hash == null) {
                window.history.replaceState({ name: viewId }, null, viewFragment);
              }
              else {
                window.history.pushState({ name: viewId }, null, viewFragment);
              }
            }
          }
        }
      }

      self.updateURLState = function (view, stateName) {
        stateName = view && (stateName == "" || stateName == null) ? self.getStateNameByViewId(view.id) : stateName;

        if (self.supportsPopState == false) {
          self.setFragment(stateName);
        }
        else {
          if (stateName != window.location.hash) {

            if (window.location.hash == null) {
              window.history.replaceState({ name: view.viewId }, null, stateName);
            }
            else {
              window.history.pushState({ name: view.viewId }, null, stateName);
            }
          }
        }
      }

      self.setFragment = function (value) {
        window.location.hash = "#" + value;
      }

      self.setTooltip = function (element, value) {
        // setting the tooltip in edge causes a page crash on hover
        if (/Edge/.test(navigator.userAgent)) { return; }

        if ("title" in element) {
          element.title = value;
        }
      }

      self.getStylesheetRules = function (styleSheet) {
        try {
          if (styleSheet) return styleSheet.cssRules || styleSheet.rules;

          return document.styleSheets[0]["cssRules"] || document.styleSheets[0]["rules"];
        }
        catch (error) {
          // ERRORS:
          // SecurityError: The operation is insecure.
          // Errors happen when script loads before stylesheet or loading an external css locally

          // InvalidAccessError: A parameter or an operation is not supported by the underlying object
          // Place script after stylesheet

          console.log(error);
          if (error.toString().indexOf("The operation is insecure") != -1) {
            console.log("Load the stylesheet before the script or load the stylesheet inline until it can be loaded on a server")
          }
          return [];
        }
      }

      /**
       * If single page application hide all of the views. 
       * @param {Number} selectedIndex if provided shows the view at index provided
       **/
      self.hideViews = function (selectedIndex, animation) {
        var rules = self.getStylesheetRules();
        var queryIndex = 0;
        var numberOfRules = rules != null ? rules.length : 0;

        // loop through rules and hide media queries except selected
        for (var i = 0; i < numberOfRules; i++) {
          var rule = rules[i];

          if (rule.media != null) {

            if (queryIndex == selectedIndex) {
              self.currentQuery.mediaText = rule.conditionText;
              self.currentQuery.index = selectedIndex;
              self.currentQuery.rule = rule;
              self.enableMediaQuery(rule);
            }
            else {
              if (animation) {
                self.fadeOut(rule)
              }
              else {
                self.disableMediaQuery(rule);
              }
            }

            queryIndex++;
          }
        }

        self.numberOfViews = queryIndex;
        self.updateViewLabel();
        self.updateURL();

        self.dispatchViewChange();

        var view = self.getVisibleView();
        var viewIndex = view ? self.getViewIndex(view) : -1;

        return viewIndex == selectedIndex ? view : null;
      }

      /**
       * Hide view
       * @param {Object} view element to hide
       **/
      self.hideView = function (view) {
        var rule = view ? self.mediaQueryDictionary[view.id] : null;

        if (rule) {
          self.disableMediaQuery(rule);
        }
      }

      /**
       * Hide overlay
       * @param {Object} overlay element to hide
       **/
      self.hideOverlay = function (overlay) {
        var rule = overlay ? self.mediaQueryDictionary[overlay.id] : null;

        if (rule) {
          self.disableMediaQuery(rule);

          //if (self.showByMediaQuery) {
          overlay.style.display = "none";
          //}
        }
      }

      /**
       * Show the view by media query. Does not hide current views
       * Sets view options by default
       * @param {Object} view element to show
       * @param {Boolean} setViewOptions sets view options if null or true
       */
      self.showViewByMediaQuery = function (view, setViewOptions) {
        var id = view ? view.id : null;
        var query = id ? self.mediaQueryDictionary[id] : null;
        var isOverlay = view ? self.isOverlay(view) : false;
        setViewOptions = setViewOptions == null ? true : setViewOptions;

        if (query) {
          self.enableMediaQuery(query);

          if (isOverlay && view && setViewOptions) {
            self.setViewVariables(null, view);
          }
          else {
            if (view && setViewOptions) self.setViewOptions(view);
            if (view && setViewOptions) self.setViewVariables(view);
          }
        }
      }

      /**
       * Show the view. Does not hide current views
       */
      self.showView = function (view, setViewOptions) {
        var id = view ? view.id : null;
        var query = id ? self.mediaQueryDictionary[id] : null;
        var display = null;
        setViewOptions = setViewOptions == null ? true : setViewOptions;

        if (query) {
          self.enableMediaQuery(query);
          if (view == null) view = self.getVisibleView();
          if (view && setViewOptions) self.setViewOptions(view);
        }
        else if (id) {
          display = window.getComputedStyle(view).getPropertyValue("display");
          if (display == "" || display == "none") {
            view.style.display = "block";
          }
        }

        if (view) {
          if (self.currentView != null) {
            self.lastView = self.currentView;
          }

          self.currentView = view;
        }
      }

      self.showViewById = function (id, setViewOptions) {
        var view = id ? self.getViewById(id) : null;

        if (view) {
          self.showView(view);
          return;
        }

        self.log("View not found '" + id + "'");
      }

      self.getElementView = function (element) {
        var view = element;
        var viewFound = false;

        while (viewFound == false || view == null) {
          if (view && self.viewsDictionary[view.id]) {
            return view;
          }
          view = view.parentNode;
        }
      }

      /**
       * Show overlay over view
       * @param {Event | HTMLElement} event event or html element with styles applied
       * @param {String} id id of view or view reference
       * @param {Number} x x location
       * @param {Number} y y location
       */
      self.showOverlay = function (event, id, x, y) {
        var overlay = id && typeof id === 'string' ? self.getViewById(id) : id ? id : null;
        var query = overlay ? self.mediaQueryDictionary[overlay.id] : null;
        var centerHorizontally = false;
        var centerVertically = false;
        var anchorLeft = false;
        var anchorTop = false;
        var anchorRight = false;
        var anchorBottom = false;
        var display = null;
        var reparent = true;
        var view = null;

        if (overlay == null || overlay == false) {
          self.log("Overlay not found, '" + id + "'");
          return;
        }

        // get enter animation - event target must have css variables declared
        if (event) {
          var button = event.currentTarget || event; // can be event or htmlelement
          var buttonComputedStyles = getComputedStyle(button);
          var actionTargetValue = buttonComputedStyles.getPropertyValue(self.prefix + "action-target").trim();
          var animation = buttonComputedStyles.getPropertyValue(self.prefix + "animation").trim();
          var isAnimated = animation != "";
          var targetType = buttonComputedStyles.getPropertyValue(self.prefix + "action-type").trim();
          var actionTarget = self.application ? null : self.getElement(actionTargetValue);
          var actionTargetStyles = actionTarget ? actionTarget.style : null;

          if (actionTargetStyles) {
            actionTargetStyles.setProperty("animation", animation);
          }

          if ("stopImmediatePropagation" in event) {
            event.stopImmediatePropagation();
          }
        }

        if (self.application == false || targetType == "page") {
          document.location.href = "./" + actionTargetValue;
          return;
        }

        // remove any current overlays
        if (self.currentOverlay) {

          // act as switch if same button
          if (self.currentOverlay == actionTarget || self.currentOverlay == null) {
            if (self.lastTrigger == button) {
              self.removeOverlay(isAnimated);
              return;
            }
          }
          else {
            self.removeOverlay(isAnimated);
          }
        }

        if (reparent) {
          view = self.getElementView(button);
          if (view) {
            view.appendChild(overlay);
          }
        }

        if (query) {
          //self.setElementAnimation(overlay, null);
          //overlay.style.animation = animation;
          self.enableMediaQuery(query);

          var display = overlay && overlay.style.display;

          if (overlay && display == "" || display == "none") {
            overlay.style.display = "block";
            //self.setViewOptions(overlay);
          }

          // add animation defined in event target style declaration
          if (animation && self.supportAnimations) {
            self.fadeIn(overlay, false, animation);
          }
        }
        else if (id) {

          display = window.getComputedStyle(overlay).getPropertyValue("display");

          if (display == "" || display == "none") {
            overlay.style.display = "block";
          }

          // add animation defined in event target style declaration
          if (animation && self.supportAnimations) {
            self.fadeIn(overlay, false, animation);
          }
        }

        // do not set x or y position if centering
        var horizontal = self.prefix + "center-horizontally";
        var vertical = self.prefix + "center-vertically";
        var style = overlay.style;
        var transform = [];

        centerHorizontally = self.getIsStyleDefined(id, horizontal) ? self.getViewPreferenceBoolean(overlay, horizontal) : false;
        centerVertically = self.getIsStyleDefined(id, vertical) ? self.getViewPreferenceBoolean(overlay, vertical) : false;
        anchorLeft = self.getIsStyleDefined(id, "left");
        anchorRight = self.getIsStyleDefined(id, "right");
        anchorTop = self.getIsStyleDefined(id, "top");
        anchorBottom = self.getIsStyleDefined(id, "bottom");


        if (self.viewsDictionary[overlay.id] && self.viewsDictionary[overlay.id].styleDeclaration) {
          style = self.viewsDictionary[overlay.id].styleDeclaration.style;
        }

        if (centerHorizontally) {
          style.left = "50%";
          style.transformOrigin = "0 0";
          transform.push("translateX(-50%)");
        }
        else if (anchorRight && anchorLeft) {
          style.left = x + "px";
        }
        else if (anchorRight) {
          //style.right = x + "px";
        }
        else {
          style.left = x + "px";
        }

        if (centerVertically) {
          style.top = "50%";
          transform.push("translateY(-50%)");
          style.transformOrigin = "0 0";
        }
        else if (anchorTop && anchorBottom) {
          style.top = y + "px";
        }
        else if (anchorBottom) {
          //style.bottom = y + "px";
        }
        else {
          style.top = y + "px";
        }

        if (transform.length) {
          style.transform = transform.join(" ");
        }

        self.currentOverlay = overlay;
        self.lastTrigger = button;
      }

      self.goBack = function () {
        if (self.currentOverlay) {
          self.removeOverlay();
        }
        else if (self.lastView) {
          self.goToView(self.lastView.id);
        }
      }

      self.removeOverlay = function (animate) {
        var overlay = self.currentOverlay;
        animate = animate === false ? false : true;

        if (overlay) {
          var style = overlay.style;

          if (style.animation && self.supportAnimations && animate) {
            self.reverseAnimation(overlay, true);

            var duration = self.getAnimationDuration(style.animation, true);

            setTimeout(function () {
              self.setElementAnimation(overlay, null);
              self.hideOverlay(overlay);
              self.currentOverlay = null;
            }, duration);
          }
          else {
            self.setElementAnimation(overlay, null);
            self.hideOverlay(overlay);
            self.currentOverlay = null;
          }
        }
      }

      /**
       * Reverse the animation and hide after
       * @param {Object} target element with animation
       * @param {Boolean} hide hide after animation ends
       */
      self.reverseAnimation = function (target, hide) {
        var lastAnimation = null;
        var style = target.style;

        style.animationPlayState = "paused";
        lastAnimation = style.animation;
        style.animation = null;
        style.animationPlayState = "paused";

        if (hide) {
          //target.addEventListener("animationend", self.animationEndHideHandler);

          var duration = self.getAnimationDuration(lastAnimation, true);
          var isOverlay = self.isOverlay(target);

          setTimeout(function () {
            self.setElementAnimation(target, null);

            if (isOverlay) {
              self.hideOverlay(target);
            }
            else {
              self.hideView(target);
            }
          }, duration);
        }

        setTimeout(function () {
          style.animation = lastAnimation;
          style.animationPlayState = "paused";
          style.animationDirection = "reverse";
          style.animationPlayState = "running";
        }, 30);
      }

      self.animationEndHandler = function (event) {
        var target = event.currentTarget;
        self.dispatchEvent(new Event(event.type));
      }

      self.isOverlay = function (view) {
        var result = view ? self.getViewPreferenceBoolean(view, self.prefix + "is-overlay") : false;

        return result;
      }

      self.animationEndHideHandler = function (event) {
        var target = event.currentTarget;
        self.setViewVariables(null, target);
        self.hideView(target);
        target.removeEventListener("animationend", self.animationEndHideHandler);
      }

      self.animationEndShowHandler = function (event) {
        var target = event.currentTarget;
        target.removeEventListener("animationend", self.animationEndShowHandler);
      }

      self.setViewOptions = function (view) {

        if (view) {
          self.minimumScale = self.getViewPreferenceValue(view, self.prefix + "minimum-scale");
          self.maximumScale = self.getViewPreferenceValue(view, self.prefix + "maximum-scale");
          self.scaleViewsToFit = self.getViewPreferenceBoolean(view, self.prefix + "scale-to-fit");
          self.scaleToFitType = self.getViewPreferenceValue(view, self.prefix + "scale-to-fit-type");
          self.scaleToFitOnDoubleClick = self.getViewPreferenceBoolean(view, self.prefix + "scale-on-double-click");
          self.actualSizeOnDoubleClick = self.getViewPreferenceBoolean(view, self.prefix + "actual-size-on-double-click");
          self.scaleViewsOnResize = self.getViewPreferenceBoolean(view, self.prefix + "scale-on-resize");
          self.enableScaleUp = self.getViewPreferenceBoolean(view, self.prefix + "enable-scale-up");
          self.centerHorizontally = self.getViewPreferenceBoolean(view, self.prefix + "center-horizontally");
          self.centerVertically = self.getViewPreferenceBoolean(view, self.prefix + "center-vertically");
          self.navigationOnKeypress = self.getViewPreferenceBoolean(view, self.prefix + "navigate-on-keypress");
          self.showViewName = self.getViewPreferenceBoolean(view, self.prefix + "show-view-name");
          self.refreshPageForChanges = self.getViewPreferenceBoolean(view, self.prefix + "refresh-for-changes");
          self.refreshPageForChangesInterval = self.getViewPreferenceValue(view, self.prefix + "refresh-interval");
          self.showNavigationControls = self.getViewPreferenceBoolean(view, self.prefix + "show-navigation-controls");
          self.scaleViewSlider = self.getViewPreferenceBoolean(view, self.prefix + "show-scale-controls");
          self.enableDeepLinking = self.getViewPreferenceBoolean(view, self.prefix + "enable-deep-linking");
          self.singlePageApplication = self.getViewPreferenceBoolean(view, self.prefix + "application");
          self.showByMediaQuery = self.getViewPreferenceBoolean(view, self.prefix + "show-by-media-query");
          self.showUpdateNotification = document.cookie != "" ? document.cookie.indexOf(self.pageRefreshedName) != -1 : false;
          self.imageComparisonDuration = self.getViewPreferenceValue(view, self.prefix + "image-comparison-duration");
          self.supportAnimations = self.getViewPreferenceBoolean(view, self.prefix + "enable-animations", true);

          if (self.scaleViewsToFit) {
            var newScaleValue = self.scaleViewToFit(view);

            if (newScaleValue < 0) {
              setTimeout(self.scaleViewToFit, 500, view);
            }
          }
          else {
            self.viewScale = self.getViewScaleValue(view);
            self.viewToFitWidthScale = self.getViewFitToViewportWidthScale(view, self.enableScaleUp)
            self.viewToFitHeightScale = self.getViewFitToViewportScale(view, self.enableScaleUp);
            self.updateSliderValue(self.viewScale);
          }

          if (self.imageComparisonDuration != null) {
            // todo
          }

          if (self.refreshPageForChangesInterval != null) {
            self.refreshDuration = Number(self.refreshPageForChangesInterval);
          }
        }
      }

      self.previousView = function (event) {
        var rules = self.getStylesheetRules();
        var view = self.getVisibleView()
        var index = view ? self.getViewIndex(view) : -1;
        var prevQueryIndex = index != -1 ? index - 1 : self.currentQuery.index - 1;
        var queryIndex = 0;
        var numberOfRules = rules != null ? rules.length : 0;

        if (event) {
          event.stopImmediatePropagation();
        }

        if (prevQueryIndex < 0) {
          return;
        }

        // loop through rules and hide media queries except selected
        for (var i = 0; i < numberOfRules; i++) {
          var rule = rules[i];

          if (rule.media != null) {

            if (queryIndex == prevQueryIndex) {
              self.currentQuery.mediaText = rule.conditionText;
              self.currentQuery.index = prevQueryIndex;
              self.currentQuery.rule = rule;
              self.enableMediaQuery(rule);
              self.updateViewLabel();
              self.updateURL();
              self.dispatchViewChange();
            }
            else {
              self.disableMediaQuery(rule);
            }

            queryIndex++;
          }
        }
      }

      self.nextView = function (event) {
        var rules = self.getStylesheetRules();
        var view = self.getVisibleView();
        var index = view ? self.getViewIndex(view) : -1;
        var nextQueryIndex = index != -1 ? index + 1 : self.currentQuery.index + 1;
        var queryIndex = 0;
        var numberOfRules = rules != null ? rules.length : 0;
        var numberOfMediaQueries = self.getNumberOfMediaRules();

        if (event) {
          event.stopImmediatePropagation();
        }

        if (nextQueryIndex >= numberOfMediaQueries) {
          return;
        }

        // loop through rules and hide media queries except selected
        for (var i = 0; i < numberOfRules; i++) {
          var rule = rules[i];

          if (rule.media != null) {

            if (queryIndex == nextQueryIndex) {
              self.currentQuery.mediaText = rule.conditionText;
              self.currentQuery.index = nextQueryIndex;
              self.currentQuery.rule = rule;
              self.enableMediaQuery(rule);
              self.updateViewLabel();
              self.updateURL();
              self.dispatchViewChange();
            }
            else {
              self.disableMediaQuery(rule);
            }

            queryIndex++;
          }
        }
      }

      /**
       * Enables a view via media query
       */
      self.enableMediaQuery = function (rule) {

        try {
          rule.media.mediaText = self.inclusionQuery;
        }
        catch (error) {
          //self.log(error);
          rule.conditionText = self.inclusionQuery;
        }
      }

      self.disableMediaQuery = function (rule) {

        try {
          rule.media.mediaText = self.exclusionQuery;
        }
        catch (error) {
          rule.conditionText = self.exclusionQuery;
        }
      }

      self.dispatchViewChange = function () {
        try {
          var event = new Event(self.NAVIGATION_CHANGE);
          window.dispatchEvent(event);
        }
        catch (error) {
          // In IE 11: Object doesn't support this action
        }
      }

      self.getNumberOfMediaRules = function () {
        var rules = self.getStylesheetRules();
        var numberOfRules = rules ? rules.length : 0;
        var numberOfQueries = 0;

        for (var i = 0; i < numberOfRules; i++) {
          if (rules[i].media != null) { numberOfQueries++; }
        }

        return numberOfQueries;
      }

      /////////////////////////////////////////
      // VIEW SCALE 
      /////////////////////////////////////////

      self.sliderChangeHandler = function (event) {
        var value = self.getShortNumber(event.currentTarget.value / 100);
        var view = self.getVisibleView();
        self.setViewScaleValue(view, false, value, true);
      }

      self.updateSliderValue = function (scale) {
        var slider = document.getElementById(self.viewScaleSliderId);
        var tooltip = parseInt(scale * 100 + "") + "%";
        var inputType;
        var inputValue;

        if (slider) {
          inputValue = self.getShortNumber(scale * 100);
          if (inputValue != slider["value"]) {
            slider["value"] = inputValue;
          }
          inputType = slider.getAttributeNS(null, "type");

          if (inputType != "range") {
            // input range is not supported
            slider.style.display = "none";
          }

          self.setTooltip(slider, tooltip);
        }
      }

      self.viewChangeHandler = function (event) {
        var view = self.getVisibleView();
        var matrix = view ? getComputedStyle(view).transform : null;

        if (matrix) {
          self.viewScale = self.getViewScaleValue(view);

          var scaleNeededToFit = self.getViewFitToViewportScale(view);
          var isViewLargerThanViewport = scaleNeededToFit < 1;

          // scale large view to fit if scale to fit is enabled
          if (self.scaleViewsToFit) {
            self.scaleViewToFit(view);
          }
          else {
            self.updateSliderValue(self.viewScale);
          }
        }
      }

      self.getViewScaleValue = function (view) {
        var matrix = getComputedStyle(view).transform;

        if (matrix) {
          var matrixArray = matrix.replace("matrix(", "").split(",");
          var scaleX = parseFloat(matrixArray[0]);
          var scaleY = parseFloat(matrixArray[3]);
          var scale = Math.min(scaleX, scaleY);
        }

        return scale;
      }

      /**
       * Scales view to scale. 
       * @param {Object} view view to scale. views are in views array
       * @param {Boolean} scaleToFit set to true to scale to fit. set false to use desired scale value
       * @param {Number} desiredScale scale to define. not used if scale to fit is false
       * @param {Boolean} isSliderChange indicates if slider is callee
       */
      self.setViewScaleValue = function (view, scaleToFit, desiredScale, isSliderChange) {
        var enableScaleUp = self.enableScaleUp;
        var scaleToFitType = self.scaleToFitType;
        var minimumScale = self.minimumScale;
        var maximumScale = self.maximumScale;
        var hasMinimumScale = !isNaN(minimumScale) && minimumScale != "";
        var hasMaximumScale = !isNaN(maximumScale) && maximumScale != "";
        var scaleNeededToFit = self.getViewFitToViewportScale(view, enableScaleUp);
        var scaleNeededToFitWidth = self.getViewFitToViewportWidthScale(view, enableScaleUp);
        var scaleNeededToFitHeight = self.getViewFitToViewportHeightScale(view, enableScaleUp);
        var scaleToFitFull = self.getViewFitToViewportScale(view, true);
        var scaleToFitFullWidth = self.getViewFitToViewportWidthScale(view, true);
        var scaleToFitFullHeight = self.getViewFitToViewportHeightScale(view, true);
        var scaleToWidth = scaleToFitType == "width";
        var scaleToHeight = scaleToFitType == "height";
        var shrunkToFit = false;
        var topPosition = null;
        var leftPosition = null;
        var translateY = null;
        var translateX = null;
        var transformValue = "";
        var canCenterVertically = true;
        var canCenterHorizontally = true;
        var style = view.style;

        if (view && self.viewsDictionary[view.id] && self.viewsDictionary[view.id].styleDeclaration) {
          style = self.viewsDictionary[view.id].styleDeclaration.style;
        }

        if (scaleToFit && isSliderChange != true) {
          if (scaleToFitType == "fit" || scaleToFitType == "") {
            desiredScale = scaleNeededToFit;
          }
          else if (scaleToFitType == "width") {
            desiredScale = scaleNeededToFitWidth;
          }
          else if (scaleToFitType == "height") {
            desiredScale = scaleNeededToFitHeight;
          }
        }
        else {
          if (isNaN(desiredScale)) {
            desiredScale = 1;
          }
        }

        self.updateSliderValue(desiredScale);

        // scale to fit width
        if (scaleToWidth && scaleToHeight == false) {
          canCenterVertically = scaleNeededToFitHeight >= scaleNeededToFitWidth;
          canCenterHorizontally = scaleNeededToFitWidth >= 1 && enableScaleUp == false;

          if (isSliderChange) {
            canCenterHorizontally = desiredScale < scaleToFitFullWidth;
          }
          else if (scaleToFit) {
            desiredScale = scaleNeededToFitWidth;
          }

          if (hasMinimumScale) {
            desiredScale = Math.max(desiredScale, Number(minimumScale));
          }

          if (hasMaximumScale) {
            desiredScale = Math.min(desiredScale, Number(maximumScale));
          }

          desiredScale = self.getShortNumber(desiredScale);

          canCenterHorizontally = self.canCenterHorizontally(view, "width", enableScaleUp, desiredScale, minimumScale, maximumScale);
          canCenterVertically = self.canCenterVertically(view, "width", enableScaleUp, desiredScale, minimumScale, maximumScale);

          if (desiredScale > 1 && (enableScaleUp || isSliderChange)) {
            transformValue = "scale(" + desiredScale + ")";
          }
          else if (desiredScale >= 1 && enableScaleUp == false) {
            transformValue = "scale(" + 1 + ")";
          }
          else {
            transformValue = "scale(" + desiredScale + ")";
          }

          if (self.centerVertically) {
            if (canCenterVertically) {
              translateY = "-50%";
              topPosition = "50%";
            }
            else {
              translateY = "0";
              topPosition = "0";
            }

            if (style.top != topPosition) {
              style.top = topPosition + "";
            }

            if (canCenterVertically) {
              transformValue += " translateY(" + translateY + ")";
            }
          }

          if (self.centerHorizontally) {
            if (canCenterHorizontally) {
              translateX = "-50%";
              leftPosition = "50%";
            }
            else {
              translateX = "0";
              leftPosition = "0";
            }

            if (style.left != leftPosition) {
              style.left = leftPosition + "";
            }

            if (canCenterHorizontally) {
              transformValue += " translateX(" + translateX + ")";
            }
          }

          style.transformOrigin = "0 0";
          style.transform = transformValue;

          self.viewScale = desiredScale;
          self.viewToFitWidthScale = scaleNeededToFitWidth;
          self.viewToFitHeightScale = scaleNeededToFitHeight;
          self.viewLeft = leftPosition;
          self.viewTop = topPosition;

          return desiredScale;
        }

        // scale to fit height
        if (scaleToHeight && scaleToWidth == false) {
          //canCenterVertically = scaleNeededToFitHeight>=scaleNeededToFitWidth;
          //canCenterHorizontally = scaleNeededToFitHeight<=scaleNeededToFitWidth && enableScaleUp==false;
          canCenterVertically = scaleNeededToFitHeight >= scaleNeededToFitWidth;
          canCenterHorizontally = scaleNeededToFitWidth >= 1 && enableScaleUp == false;

          if (isSliderChange) {
            canCenterHorizontally = desiredScale < scaleToFitFullHeight;
          }
          else if (scaleToFit) {
            desiredScale = scaleNeededToFitHeight;
          }

          if (hasMinimumScale) {
            desiredScale = Math.max(desiredScale, Number(minimumScale));
          }

          if (hasMaximumScale) {
            desiredScale = Math.min(desiredScale, Number(maximumScale));
            //canCenterVertically = desiredScale>=scaleNeededToFitHeight && enableScaleUp==false;
          }

          desiredScale = self.getShortNumber(desiredScale);

          canCenterHorizontally = self.canCenterHorizontally(view, "height", enableScaleUp, desiredScale, minimumScale, maximumScale);
          canCenterVertically = self.canCenterVertically(view, "height", enableScaleUp, desiredScale, minimumScale, maximumScale);

          if (desiredScale > 1 && (enableScaleUp || isSliderChange)) {
            transformValue = "scale(" + desiredScale + ")";
          }
          else if (desiredScale >= 1 && enableScaleUp == false) {
            transformValue = "scale(" + 1 + ")";
          }
          else {
            transformValue = "scale(" + desiredScale + ")";
          }

          if (self.centerHorizontally) {
            if (canCenterHorizontally) {
              translateX = "-50%";
              leftPosition = "50%";
            }
            else {
              translateX = "0";
              leftPosition = "0";
            }

            if (style.left != leftPosition) {
              style.left = leftPosition + "";
            }

            if (canCenterHorizontally) {
              transformValue += " translateX(" + translateX + ")";
            }
          }

          if (self.centerVertically) {
            if (canCenterVertically) {
              translateY = "-50%";
              topPosition = "50%";
            }
            else {
              translateY = "0";
              topPosition = "0";
            }

            if (style.top != topPosition) {
              style.top = topPosition + "";
            }

            if (canCenterVertically) {
              transformValue += " translateY(" + translateY + ")";
            }
          }

          style.transformOrigin = "0 0";
          style.transform = transformValue;

          self.viewScale = desiredScale;
          self.viewToFitWidthScale = scaleNeededToFitWidth;
          self.viewToFitHeightScale = scaleNeededToFitHeight;
          self.viewLeft = leftPosition;
          self.viewTop = topPosition;

          return scaleNeededToFitHeight;
        }

        if (scaleToFitType == "fit") {
          //canCenterVertically = scaleNeededToFitHeight>=scaleNeededToFitWidth;
          //canCenterHorizontally = scaleNeededToFitWidth>=scaleNeededToFitHeight;
          canCenterVertically = scaleNeededToFitHeight >= scaleNeededToFit;
          canCenterHorizontally = scaleNeededToFitWidth >= scaleNeededToFit;

          if (hasMinimumScale) {
            desiredScale = Math.max(desiredScale, Number(minimumScale));
          }

          desiredScale = self.getShortNumber(desiredScale);

          if (isSliderChange || scaleToFit == false) {
            canCenterVertically = scaleToFitFullHeight >= desiredScale;
            canCenterHorizontally = desiredScale < scaleToFitFullWidth;
          }
          else if (scaleToFit) {
            desiredScale = scaleNeededToFit;
          }

          transformValue = "scale(" + desiredScale + ")";

          //canCenterHorizontally = self.canCenterHorizontally(view, "fit", false, desiredScale);
          //canCenterVertically = self.canCenterVertically(view, "fit", false, desiredScale);

          if (self.centerVertically) {
            if (canCenterVertically) {
              translateY = "-50%";
              topPosition = "50%";
            }
            else {
              translateY = "0";
              topPosition = "0";
            }

            if (style.top != topPosition) {
              style.top = topPosition + "";
            }

            if (canCenterVertically) {
              transformValue += " translateY(" + translateY + ")";
            }
          }

          if (self.centerHorizontally) {
            if (canCenterHorizontally) {
              translateX = "-50%";
              leftPosition = "50%";
            }
            else {
              translateX = "0";
              leftPosition = "0";
            }

            if (style.left != leftPosition) {
              style.left = leftPosition + "";
            }

            if (canCenterHorizontally) {
              transformValue += " translateX(" + translateX + ")";
            }
          }

          style.transformOrigin = "0 0";
          style.transform = transformValue;

          self.viewScale = desiredScale;
          self.viewToFitWidthScale = scaleNeededToFitWidth;
          self.viewToFitHeightScale = scaleNeededToFitHeight;
          self.viewLeft = leftPosition;
          self.viewTop = topPosition;

          self.updateSliderValue(desiredScale);

          return desiredScale;
        }

        if (scaleToFitType == "default" || scaleToFitType == "") {
          desiredScale = 1;

          if (hasMinimumScale) {
            desiredScale = Math.max(desiredScale, Number(minimumScale));
          }
          if (hasMaximumScale) {
            desiredScale = Math.min(desiredScale, Number(maximumScale));
          }

          canCenterHorizontally = self.canCenterHorizontally(view, "none", false, desiredScale, minimumScale, maximumScale);
          canCenterVertically = self.canCenterVertically(view, "none", false, desiredScale, minimumScale, maximumScale);

          if (self.centerVertically) {
            if (canCenterVertically) {
              translateY = "-50%";
              topPosition = "50%";
            }
            else {
              translateY = "0";
              topPosition = "0";
            }

            if (style.top != topPosition) {
              style.top = topPosition + "";
            }

            if (canCenterVertically) {
              transformValue += " translateY(" + translateY + ")";
            }
          }

          if (self.centerHorizontally) {
            if (canCenterHorizontally) {
              translateX = "-50%";
              leftPosition = "50%";
            }
            else {
              translateX = "0";
              leftPosition = "0";
            }

            if (style.left != leftPosition) {
              style.left = leftPosition + "";
            }

            if (canCenterHorizontally) {
              transformValue += " translateX(" + translateX + ")";
            }
            else {
              transformValue += " translateX(" + 0 + ")";
            }
          }

          style.transformOrigin = "0 0";
          style.transform = transformValue;


          self.viewScale = desiredScale;
          self.viewToFitWidthScale = scaleNeededToFitWidth;
          self.viewToFitHeightScale = scaleNeededToFitHeight;
          self.viewLeft = leftPosition;
          self.viewTop = topPosition;

          self.updateSliderValue(desiredScale);

          return desiredScale;
        }
      }

      /**
       * Returns true if view can be centered horizontally
       * @param {HTMLElement} view view
       * @param {String} type type of scaling - width, height, all, none
       * @param {Boolean} scaleUp if scale up enabled 
       * @param {Number} scale target scale value 
       */
      self.canCenterHorizontally = function (view, type, scaleUp, scale, minimumScale, maximumScale) {
        var scaleNeededToFit = self.getViewFitToViewportScale(view, scaleUp);
        var scaleNeededToFitHeight = self.getViewFitToViewportHeightScale(view, scaleUp);
        var scaleNeededToFitWidth = self.getViewFitToViewportWidthScale(view, scaleUp);
        var canCenter = false;
        var minScale;

        type = type == null ? "none" : type;
        scale = scale == null ? scale : scaleNeededToFitWidth;
        scaleUp = scaleUp == null ? false : scaleUp;

        if (type == "width") {

          if (scaleUp && maximumScale == null) {
            canCenter = false;
          }
          else if (scaleNeededToFitWidth >= 1) {
            canCenter = true;
          }
        }
        else if (type == "height") {
          minScale = Math.min(1, scaleNeededToFitHeight);
          if (minimumScale != "" && maximumScale != "") {
            minScale = Math.max(minimumScale, Math.min(maximumScale, scaleNeededToFitHeight));
          }
          else {
            if (minimumScale != "") {
              minScale = Math.max(minimumScale, scaleNeededToFitHeight);
            }
            if (maximumScale != "") {
              minScale = Math.max(minimumScale, Math.min(maximumScale, scaleNeededToFitHeight));
            }
          }

          if (scaleUp && maximumScale == "") {
            canCenter = false;
          }
          else if (scaleNeededToFitWidth >= minScale) {
            canCenter = true;
          }
        }
        else if (type == "fit") {
          canCenter = scaleNeededToFitWidth >= scaleNeededToFit;
        }
        else {
          if (scaleUp) {
            canCenter = false;
          }
          else if (scaleNeededToFitWidth >= 1) {
            canCenter = true;
          }
        }

        self.horizontalScrollbarsNeeded = canCenter;

        return canCenter;
      }

      /**
       * Returns true if view can be centered horizontally
       * @param {HTMLElement} view view to scale
       * @param {String} type type of scaling
       * @param {Boolean} scaleUp if scale up enabled 
       * @param {Number} scale target scale value 
       */
      self.canCenterVertically = function (view, type, scaleUp, scale, minimumScale, maximumScale) {
        var scaleNeededToFit = self.getViewFitToViewportScale(view, scaleUp);
        var scaleNeededToFitWidth = self.getViewFitToViewportWidthScale(view, scaleUp);
        var scaleNeededToFitHeight = self.getViewFitToViewportHeightScale(view, scaleUp);
        var canCenter = false;
        var minScale;

        type = type == null ? "none" : type;
        scale = scale == null ? 1 : scale;
        scaleUp = scaleUp == null ? false : scaleUp;

        if (type == "width") {
          canCenter = scaleNeededToFitHeight >= scaleNeededToFitWidth;
        }
        else if (type == "height") {
          minScale = Math.max(minimumScale, Math.min(maximumScale, scaleNeededToFit));
          canCenter = scaleNeededToFitHeight >= minScale;
        }
        else if (type == "fit") {
          canCenter = scaleNeededToFitHeight >= scaleNeededToFit;
        }
        else {
          if (scaleUp) {
            canCenter = false;
          }
          else if (scaleNeededToFitHeight >= 1) {
            canCenter = true;
          }
        }

        self.verticalScrollbarsNeeded = canCenter;

        return canCenter;
      }

      self.getViewFitToViewportScale = function (view, scaleUp) {
        var enableScaleUp = scaleUp;
        var availableWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        var availableHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
        var elementWidth = parseFloat(getComputedStyle(view, "style").width);
        var elementHeight = parseFloat(getComputedStyle(view, "style").height);
        var newScale = 1;

        // if element is not added to the document computed values are NaN
        if (isNaN(elementWidth) || isNaN(elementHeight)) {
          return newScale;
        }

        availableWidth -= self.horizontalPadding;
        availableHeight -= self.verticalPadding;

        if (enableScaleUp) {
          newScale = Math.min(availableHeight / elementHeight, availableWidth / elementWidth);
        }
        else if (elementWidth > availableWidth || elementHeight > availableHeight) {
          newScale = Math.min(availableHeight / elementHeight, availableWidth / elementWidth);
        }

        return newScale;
      }

      self.getViewFitToViewportWidthScale = function (view, scaleUp) {
        // need to get browser viewport width when element
        var isParentWindow = view && view.parentNode && view.parentNode === document.body;
        var enableScaleUp = scaleUp;
        var availableWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        var elementWidth = parseFloat(getComputedStyle(view, "style").width);
        var newScale = 1;

        // if element is not added to the document computed values are NaN
        if (isNaN(elementWidth)) {
          return newScale;
        }

        availableWidth -= self.horizontalPadding;

        if (enableScaleUp) {
          newScale = availableWidth / elementWidth;
        }
        else if (elementWidth > availableWidth) {
          newScale = availableWidth / elementWidth;
        }

        return newScale;
      }

      self.getViewFitToViewportHeightScale = function (view, scaleUp) {
        var enableScaleUp = scaleUp;
        var availableHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
        var elementHeight = parseFloat(getComputedStyle(view, "style").height);
        var newScale = 1;

        // if element is not added to the document computed values are NaN
        if (isNaN(elementHeight)) {
          return newScale;
        }

        availableHeight -= self.verticalPadding;

        if (enableScaleUp) {
          newScale = availableHeight / elementHeight;
        }
        else if (elementHeight > availableHeight) {
          newScale = availableHeight / elementHeight;
        }

        return newScale;
      }

      self.keypressHandler = function (event) {
        var rightKey = 39;
        var leftKey = 37;

        // listen for both events 
        if (event.type == "keypress") {
          window.removeEventListener("keyup", self.keypressHandler);
        }
        else {
          window.removeEventListener("keypress", self.keypressHandler);
        }

        if (self.showNavigationControls) {
          if (self.navigationOnKeypress) {
            if (event.keyCode == rightKey) {
              self.nextView();
            }
            if (event.keyCode == leftKey) {
              self.previousView();
            }
          }
        }
        else if (self.navigationOnKeypress) {
          if (event.keyCode == rightKey) {
            self.nextView();
          }
          if (event.keyCode == leftKey) {
            self.previousView();
          }
        }
      }

      ///////////////////////////////////
      // GENERAL FUNCTIONS
      ///////////////////////////////////

      self.getViewById = function (id) {
        id = id ? id.replace("#", "") : "";
        var view = self.viewIds.indexOf(id) != -1 && self.getElement(id);
        return view;
      }

      self.getViewIds = function () {
        var viewIds = self.getViewPreferenceValue(document.body, self.prefix + "view-ids");
        var viewId = null;

        viewIds = viewIds != null && viewIds != "" ? viewIds.split(",") : [];

        if (viewIds.length == 0) {
          viewId = self.getViewPreferenceValue(document.body, self.prefix + "view-id");
          viewIds = viewId ? [viewId] : [];
        }

        return viewIds;
      }

      self.getInitialViewId = function () {
        var viewId = self.getViewPreferenceValue(document.body, self.prefix + "view-id");
        return viewId;
      }

      self.getApplicationStylesheet = function () {
        var stylesheetId = self.getViewPreferenceValue(document.body, self.prefix + "stylesheet-id");
        self.applicationStylesheet = document.getElementById("applicationStylesheet");
        return self.applicationStylesheet.sheet;
      }

      self.getVisibleView = function () {
        var viewIds = self.getViewIds();

        for (var i = 0; i < viewIds.length; i++) {
          var viewId = viewIds[i].replace(/[\#?\.?](.*)/, "$" + "1");
          var view = self.getElement(viewId);
          var postName = "_Class";

          if (view == null && viewId && viewId.lastIndexOf(postName) != -1) {
            view = self.getElement(viewId.replace(postName, ""));
          }

          if (view) {
            var display = getComputedStyle(view).display;

            if (display == "block" || display == "flex") {
              return view;
            }
          }
        }

        return null;
      }

      self.getVisibleViews = function () {
        var viewIds = self.getViewIds();
        var views = [];

        for (var i = 0; i < viewIds.length; i++) {
          var viewId = viewIds[i].replace(/[\#?\.?](.*)/, "$" + "1");
          var view = self.getElement(viewId);
          var postName = "_Class";

          if (view == null && viewId && viewId.lastIndexOf(postName) != -1) {
            view = self.getElement(viewId.replace(postName, ""));
          }

          if (view) {
            var display = getComputedStyle(view).display;

            if (display == "none") {
              continue;
            }

            if (display == "block" || display == "flex") {
              views.push(view);
            }
          }
        }

        return views;
      }

      self.getStateNameByViewId = function (id) {
        var state = self.viewsDictionary[id];
        return state && state.stateName;
      }

      self.getMatchingViews = function (ids) {
        var views = self.addedViews.slice(0);
        var matchingViews = [];

        if (self.showByMediaQuery) {
          for (let index = 0; index < views.length; index++) {
            var viewId = views[index];
            var state = self.viewsDictionary[viewId];
            var rule = state && state.rule;
            var matchResults = window.matchMedia(rule.conditionText);
            var view = self.views[viewId];

            if (matchResults.matches) {
              if (ids == true) {
                matchingViews.push(viewId);
              }
              else {
                matchingViews.push(view);
              }
            }
          }
        }

        return matchingViews;
      }

      self.ruleMatchesQuery = function (rule) {
        var result = window.matchMedia(rule.conditionText);
        return result.matches;
      }

      self.getViewsByStateName = function (stateName, matchQuery) {
        var views = self.addedViews.slice(0);
        var matchingViews = [];

        if (self.showByMediaQuery) {

          // find state name
          for (let index = 0; index < views.length; index++) {
            var viewId = views[index];
            var state = self.viewsDictionary[viewId];
            var rule = state.rule;
            var mediaRule = state.mediaRule;
            var view = self.views[viewId];
            var viewStateName = self.getStyleRuleValue(mediaRule, self.STATE_NAME, state);
            var stateFoundAtt = view.getAttribute(self.STATE_NAME) == state;
            var matchesResults = false;

            if (viewStateName == stateName) {
              if (matchQuery) {
                matchesResults = self.ruleMatchesQuery(rule);

                if (matchesResults) {
                  matchingViews.push(view);
                }
              }
              else {
                matchingViews.push(view);
              }
            }
          }
        }

        return matchingViews;
      }

      self.getInitialView = function () {
        var viewId = self.getInitialViewId();
        viewId = viewId.replace(/[\#?\.?](.*)/, "$" + "1");
        var view = self.getElement(viewId);
        var postName = "_Class";

        if (view == null && viewId && viewId.lastIndexOf(postName) != -1) {
          view = self.getElement(viewId.replace(postName, ""));
        }

        return view;
      }

      self.getViewIndex = function (view) {
        var viewIds = self.getViewIds();
        var id = view ? view.id : null;
        var index = id && viewIds ? viewIds.indexOf(id) : -1;

        return index;
      }

      self.syncronizeViewToURL = function () {
        var fragment = self.getHashFragment();

        if (self.showByMediaQuery) {
          var stateName = fragment;

          if (stateName == null || stateName == "") {
            var initialView = self.getInitialView();
            stateName = initialView ? self.getStateNameByViewId(initialView.id) : null;
          }

          self.showMediaQueryViewsByState(stateName);
          return;
        }

        var view = self.getViewById(fragment);
        var index = view ? self.getViewIndex(view) : 0;
        if (index == -1) index = 0;
        var currentView = self.hideViews(index);

        if (self.supportsPopState && currentView) {

          if (fragment == null) {
            window.history.replaceState({ name: currentView.id }, null, "#" + currentView.id);
          }
          else {
            window.history.pushState({ name: currentView.id }, null, "#" + currentView.id);
          }
        }

        self.setViewVariables(view);
        return view;
      }

      /**
       * Set the currentView or currentOverlay properties and set the lastView or lastOverlay properties
       */
      self.setViewVariables = function (view, overlay, parentView) {
        if (view) {
          if (self.currentView) {
            self.lastView = self.currentView;
          }
          self.currentView = view;
        }

        if (overlay) {
          if (self.currentOverlay) {
            self.lastOverlay = self.currentOverlay;
          }
          self.currentOverlay = overlay;
        }
      }

      self.getViewPreferenceBoolean = function (view, property, altValue) {
        var computedStyle = window.getComputedStyle(view);
        var value = computedStyle.getPropertyValue(property);
        var type = typeof value;

        if (value == "true" || (type == "string" && value.indexOf("true") != -1)) {
          return true;
        }
        else if (value == "" && arguments.length == 3) {
          return altValue;
        }

        return false;
      }

      self.getViewPreferenceValue = function (view, property, defaultValue) {
        var value = window.getComputedStyle(view).getPropertyValue(property);

        if (value === undefined) {
          return defaultValue;
        }

        value = value.replace(/^[\s\"]*/, "");
        value = value.replace(/[\s\"]*$/, "");
        value = value.replace(/^[\s"]*(.*?)[\s"]*$/, function (match, capture) {
          return capture;
        });

        return value;
      }

      self.getStyleRuleValue = function (cssRule, property) {
        var value = cssRule ? cssRule.style.getPropertyValue(property) : null;

        if (value === undefined) {
          return null;
        }

        value = value.replace(/^[\s\"]*/, "");
        value = value.replace(/[\s\"]*$/, "");
        value = value.replace(/^[\s"]*(.*?)[\s"]*$/, function (match, capture) {
          return capture;
        });

        return value;
      }

      /**
       * Get the first defined value of property. Returns empty string if not defined
       * @param {String} id id of element
       * @param {String} property 
       */
      self.getCSSPropertyValueForElement = function (id, property) {
        var styleSheets = document.styleSheets;
        var numOfStylesheets = styleSheets.length;
        var values = [];
        var selectorIDText = "#" + id;
        var selectorClassText = "." + id + "_Class";
        var value;

        for (var i = 0; i < numOfStylesheets; i++) {
          var styleSheet = styleSheets[i];
          var cssRules = self.getStylesheetRules(styleSheet);
          var numOfCSSRules = cssRules.length;
          var cssRule;

          for (var j = 0; j < numOfCSSRules; j++) {
            cssRule = cssRules[j];

            if (cssRule.media) {
              var mediaRules = cssRule.cssRules;
              var numOfMediaRules = mediaRules ? mediaRules.length : 0;

              for (var k = 0; k < numOfMediaRules; k++) {
                var mediaRule = mediaRules[k];

                if (mediaRule.selectorText == selectorIDText || mediaRule.selectorText == selectorClassText) {

                  if (mediaRule.style && mediaRule.style.getPropertyValue(property) != "") {
                    value = mediaRule.style.getPropertyValue(property);
                    values.push(value);
                  }
                }
              }
            }
            else {

              if (cssRule.selectorText == selectorIDText || cssRule.selectorText == selectorClassText) {
                if (cssRule.style && cssRule.style.getPropertyValue(property) != "") {
                  value = cssRule.style.getPropertyValue(property);
                  values.push(value);
                }
              }
            }
          }
        }

        return values.pop();
      }

      self.getIsStyleDefined = function (id, property) {
        var value = self.getCSSPropertyValueForElement(id, property);
        return value !== undefined && value != "";
      }

      self.collectViews = function () {
        var viewIds = self.getViewIds();

        for (let index = 0; index < viewIds.length; index++) {
          const id = viewIds[index];
          const view = self.getElement(id);
          self.views[id] = view;
        }

        self.viewIds = viewIds;
      }

      self.collectOverlays = function () {
        var viewIds = self.getViewIds();
        var ids = [];

        for (let index = 0; index < viewIds.length; index++) {
          const id = viewIds[index];
          const view = self.getViewById(id);
          const isOverlay = view && self.isOverlay(view);

          if (isOverlay) {
            ids.push(id);
            self.overlays[id] = view;
          }
        }

        self.overlayIds = ids;
      }

      self.collectMediaQueries = function () {
        var viewIds = self.getViewIds();
        var styleSheet = self.getApplicationStylesheet();
        var cssRules = self.getStylesheetRules(styleSheet);
        var numOfCSSRules = cssRules ? cssRules.length : 0;
        var cssRule;
        var id = viewIds.length ? viewIds[0] : ""; // single view
        var selectorIDText = "#" + id;
        var selectorClassText = "." + id + "_Class";
        var viewsNotFound = viewIds.slice();
        var viewsFound = [];
        var selectorText = null;
        var property = self.prefix + "view-id";
        var stateName = self.prefix + "state";
        var stateValue;

        for (var j = 0; j < numOfCSSRules; j++) {
          cssRule = cssRules[j];

          if (cssRule.media) {
            var mediaRules = cssRule.cssRules;
            var numOfMediaRules = mediaRules ? mediaRules.length : 0;
            var mediaViewInfoFound = false;
            var mediaId = null;

            for (var k = 0; k < numOfMediaRules; k++) {
              var mediaRule = mediaRules[k];

              selectorText = mediaRule.selectorText;

              if (selectorText == ".mediaViewInfo" && mediaViewInfoFound == false) {

                mediaId = self.getStyleRuleValue(mediaRule, property);
                stateValue = self.getStyleRuleValue(mediaRule, stateName);

                selectorIDText = "#" + mediaId;
                selectorClassText = "." + mediaId + "_Class";

                // prevent duplicates from load and domcontentloaded events
                if (self.addedViews.indexOf(mediaId) == -1) {
                  self.addView(mediaId, cssRule, mediaRule, stateValue);
                }

                viewsFound.push(mediaId);

                if (viewsNotFound.indexOf(mediaId) != -1) {
                  viewsNotFound.splice(viewsNotFound.indexOf(mediaId));
                }

                mediaViewInfoFound = true;
              }

              if (selectorIDText == selectorText || selectorClassText == selectorText) {
                var styleObject = self.viewsDictionary[mediaId];
                if (styleObject) {
                  styleObject.styleDeclaration = mediaRule;
                }
                break;
              }
            }
          }
          else {
            selectorText = cssRule.selectorText.replace(/[#|\s|*]?/g, "");

            if (viewIds.indexOf(selectorText) != -1) {
              self.addView(selectorText, cssRule, null, stateValue);

              if (viewsNotFound.indexOf(selectorText) != -1) {
                viewsNotFound.splice(viewsNotFound.indexOf(selectorText));
              }

              break;
            }
          }
        }

        if (viewsNotFound.length) {
          console.log("Could not find the following views:" + viewsNotFound.join(",") + "");
          console.log("Views found:" + viewsFound.join(",") + "");
        }
      }

      /**
       * Adds a view. A view object contains the id of the view and the style rule
       * Use enableMediaQuery(rule) to enable
       * An array of view names are in self.addedViews array
       */
      self.addView = function (viewId, cssRule, mediaRule, stateName) {
        var state = { name: viewId, rule: cssRule, id: viewId, mediaRule: mediaRule, stateName: stateName };
        self.addedViews.push(viewId);
        self.viewsDictionary[viewId] = state;
        self.mediaQueryDictionary[viewId] = cssRule;
      }

      self.hasView = function (name) {

        if (self.addedViews.indexOf(name) != -1) {
          return true;
        }
        return false;
      }

      /**
       * Go to view by id. Views are added in addView()
       * @param {String} id id of view in current
       * @param {Boolean} maintainPreviousState if true then do not hide other views
       * @param {String} parent id of parent view
       */
      self.goToView = function (id, maintainPreviousState, parent) {
        var state = self.viewsDictionary[id];

        if (state) {
          if (maintainPreviousState == false || maintainPreviousState == null) {
            self.hideViews();
          }
          self.enableMediaQuery(state.rule);
          self.updateViewLabel();
          self.updateURL();
        }
        else {
          var event = new Event(self.STATE_NOT_FOUND);
          self.stateName = id;
          window.dispatchEvent(event);
        }
      }

      /**
       * Go to the view in the event targets CSS variable
       */
      self.goToTargetView = function (event) {
        var button = event.currentTarget;
        var buttonComputedStyles = getComputedStyle(button);
        var actionTargetValue = buttonComputedStyles.getPropertyValue(self.prefix + "action-target").trim();
        var animation = buttonComputedStyles.getPropertyValue(self.prefix + "animation").trim();
        var targetType = buttonComputedStyles.getPropertyValue(self.prefix + "action-type").trim();
        var targetView = self.application ? null : self.getElement(actionTargetValue);
        var targetState = targetView ? self.getStateNameByViewId(targetView.id) : null;
        var actionTargetStyles = targetView ? targetView.style : null;
        var state = self.viewsDictionary[actionTargetValue];

        // navigate to page
        if (self.application == false || targetType == "page") {
          document.location.href = "./" + actionTargetValue;
          return;
        }

        // if view is found
        if (targetView) {

          if (self.currentOverlay) {
            self.removeOverlay(false);
          }

          if (self.showByMediaQuery) {
            var stateName = targetState;

            if (stateName == null || stateName == "") {
              var initialView = self.getInitialView();
              stateName = initialView ? self.getStateNameByViewId(initialView.id) : null;
            }
            self.showMediaQueryViewsByState(stateName, event);
            return;
          }

          // add animation set in event target style declaration
          if (animation && self.supportAnimations) {
            self.crossFade(self.currentView, targetView, false, animation);
          }
          else {
            self.setViewVariables(self.currentView);
            self.hideViews();
            self.enableMediaQuery(state.rule);
            self.scaleViewIfNeeded(targetView);
            self.centerView(targetView);
            self.updateViewLabel();
            self.updateURL();
          }
        }
        else {
          var stateEvent = new Event(self.STATE_NOT_FOUND);
          self.stateName = name;
          window.dispatchEvent(stateEvent);
        }

        event.stopImmediatePropagation();
      }

      /**
       * Cross fade between views
       **/
      self.crossFade = function (from, to, update, animation) {
        var targetIndex = to.parentNode
        var fromIndex = Array.prototype.slice.call(from.parentElement.children).indexOf(from);
        var toIndex = Array.prototype.slice.call(to.parentElement.children).indexOf(to);

        if (from.parentNode == to.parentNode) {
          var reverse = self.getReverseAnimation(animation);
          var duration = self.getAnimationDuration(animation, true);

          // if target view is above (higher index)
          // then fade in target view 
          // and after fade in then hide previous view instantly
          if (fromIndex < toIndex) {
            self.setElementAnimation(from, null);
            self.setElementAnimation(to, null);
            self.showViewByMediaQuery(to);
            self.fadeIn(to, update, animation);

            setTimeout(function () {
              self.setElementAnimation(to, null);
              self.setElementAnimation(from, null);
              self.hideView(from);
              self.updateURL();
              self.setViewVariables(to);
              self.updateViewLabel();
            }, duration)
          }
          // if target view is on bottom
          // then show target view instantly 
          // and fade out current view
          else if (fromIndex > toIndex) {
            self.setElementAnimation(to, null);
            self.setElementAnimation(from, null);
            self.showViewByMediaQuery(to);
            self.fadeOut(from, update, reverse);

            setTimeout(function () {
              self.setElementAnimation(to, null);
              self.setElementAnimation(from, null);
              self.hideView(from);
              self.updateURL();
              self.setViewVariables(to);
            }, duration)
          }
        }
      }

      self.fadeIn = function (element, update, animation) {
        self.showViewByMediaQuery(element);

        if (update) {
          self.updateURL(element);

          element.addEventListener("animationend", function (event) {
            element.style.animation = null;
            self.setViewVariables(element);
            self.updateViewLabel();
            element.removeEventListener("animationend", arguments.callee);
          });
        }

        self.setElementAnimation(element, null);

        element.style.animation = animation;
      }

      self.fadeOutCurrentView = function (animation, update) {
        if (self.currentView) {
          self.fadeOut(self.currentView, update, animation);
        }
        if (self.currentOverlay) {
          self.fadeOut(self.currentOverlay, update, animation);
        }
      }

      self.fadeOut = function (element, update, animation) {
        if (update) {
          element.addEventListener("animationend", function (event) {
            element.style.animation = null;
            self.hideView(element);
            element.removeEventListener("animationend", arguments.callee);
          });
        }

        element.style.animationPlayState = "paused";
        element.style.animation = animation;
        element.style.animationPlayState = "running";
      }

      self.getReverseAnimation = function (animation) {
        if (animation && animation.indexOf("reverse") == -1) {
          animation += " reverse";
        }

        return animation;
      }

      /**
       * Get duration in animation string
       * @param {String} animation animation value
       * @param {Boolean} inMilliseconds length in milliseconds if true
       */
      self.getAnimationDuration = function (animation, inMilliseconds) {
        var duration = 0;
        var expression = /.+(\d\.\d)s.+/;

        if (animation && animation.match(expression)) {
          duration = parseFloat(animation.replace(expression, "$" + "1"));
          if (duration && inMilliseconds) duration = duration * 1000;
        }

        return duration;
      }

      self.setElementAnimation = function (element, animation, priority) {
        element.style.setProperty("animation", animation, "important");
      }

      self.getElement = function (id) {
        var elementId = id ? id.trim() : id;
        var element = elementId ? document.getElementById(elementId) : null;

        return element;
      }

      self.resizeHandler = function (event) {

        if (self.showByMediaQuery) {
          if (self.enableDeepLinking) {
            var stateName = self.getHashFragment();

            if (stateName == null || stateName == "") {
              var initialView = self.getInitialView();
              stateName = initialView ? self.getStateNameByViewId(initialView.id) : null;
            }
            self.showMediaQueryViewsByState(stateName, event);
          }
        }
        else {
          var visibleViews = self.getVisibleViews();

          for (let index = 0; index < visibleViews.length; index++) {
            var view = visibleViews[index];
            self.scaleViewIfNeeded(view);
          }
        }

        window.dispatchEvent(new Event(self.APPLICATION_RESIZE));
      }

      self.scaleViewIfNeeded = function (view) {

        if (self.scaleViewsOnResize) {
          if (view == null) {
            view = self.getVisibleView();
          }

          var isViewScaled = view.getAttributeNS(null, self.SIZE_STATE_NAME) == "false" ? false : true;

          if (isViewScaled) {
            self.scaleViewToFit(view, true);
          }
          else {
            self.scaleViewToActualSize(view);
          }
        }
        else if (view) {
          self.centerView(view);
        }
      }

      self.centerView = function (view) {

        if (self.scaleViewsToFit) {
          self.scaleViewToFit(view, true);
        }
        else {
          self.scaleViewToActualSize(view);  // for centering support for now
        }
      }

      self.preventDoubleClick = function (event) {
        event.stopImmediatePropagation();
      }

      self.getHashFragment = function () {
        var value = window.location.hash ? window.location.hash.replace("#", "") : "";
        return value;
      }

      self.showBlockElement = function (view) {
        view.style.display = "block";
      }

      self.hideElement = function (view) {
        view.style.display = "none";
      }

      self.showStateFunction = null;

      self.showMediaQueryViewsByState = function (state, event) {
        // browser will hide and show by media query (small, medium, large)
        // but if multiple views exists at same size user may want specific view
        // if showStateFunction is defined that is called with state fragment and user can show or hide each media matching view by returning true or false
        // if showStateFunction is not defined and state is defined and view has a defined state that matches then show that and hide other matching views
        // if no state is defined show view 
        // an viewChanging event is dispatched before views are shown or hidden that can be prevented 

        // get all matched queries
        // if state name is specified then show that view and hide other views
        // if no state name is defined then show
        var matchedViews = self.getMatchingViews();
        var matchMediaQuery = true;
        var foundViews = self.getViewsByStateName(state, matchMediaQuery);
        var showViews = [];
        var hideViews = [];

        // loop views that match media query 
        for (let index = 0; index < matchedViews.length; index++) {
          var view = matchedViews[index];

          // let user determine visible view
          if (self.showStateFunction != null) {
            if (self.showStateFunction(view, state)) {
              showViews.push(view);
            }
            else {
              hideViews.push(view);
            }
          }
          // state was defined so check if view matches state
          else if (foundViews.length) {

            if (foundViews.indexOf(view) != -1) {
              showViews.push(view);
            }
            else {
              hideViews.push(view);
            }
          }
          // if no state names are defined show view (define unused state name to exclude)
          else if (state == null || state == "") {
            showViews.push(view);
          }
        }

        if (showViews.length) {
          var viewChangingEvent = new Event(self.VIEW_CHANGING);
          viewChangingEvent.showViews = showViews;
          viewChangingEvent.hideViews = hideViews;
          window.dispatchEvent(viewChangingEvent);

          if (viewChangingEvent.defaultPrevented == false) {
            for (var index = 0; index < hideViews.length; index++) {
              var view = hideViews[index];

              if (self.isOverlay(view)) {
                self.removeOverlay(view);
              }
              else {
                self.hideElement(view);
              }
            }

            for (var index = 0; index < showViews.length; index++) {
              var view = showViews[index];

              if (index == showViews.length - 1) {
                self.clearDisplay(view);
                self.setViewOptions(view);
                self.setViewVariables(view);
                self.centerView(view);
                self.updateURLState(view, state);
              }
            }
          }

          var viewChangeEvent = new Event(self.VIEW_CHANGE);
          viewChangeEvent.showViews = showViews;
          viewChangeEvent.hideViews = hideViews;
          window.dispatchEvent(viewChangeEvent);
        }

      }

      self.clearDisplay = function (view) {
        view.style.setProperty("display", null);
      }

      self.hashChangeHandler = function (event) {
        var fragment = self.getHashFragment();
        var view = self.getViewById(fragment);

        if (self.showByMediaQuery) {
          var stateName = fragment;

          if (stateName == null || stateName == "") {
            var initialView = self.getInitialView();
            stateName = initialView ? self.getStateNameByViewId(initialView.id) : null;
          }
          self.showMediaQueryViewsByState(stateName);
        }
        else {
          if (view) {
            self.hideViews();
            self.showView(view);
            self.setViewVariables(view);
            self.updateViewLabel();

            window.dispatchEvent(new Event(self.VIEW_CHANGE));
          }
          else {
            window.dispatchEvent(new Event(self.VIEW_NOT_FOUND));
          }
        }
      }

      self.popStateHandler = function (event) {
        var state = event.state;
        var fragment = state ? state.name : window.location.hash;
        var view = self.getViewById(fragment);

        if (view) {
          self.hideViews();
          self.showView(view);
          self.updateViewLabel();
        }
        else {
          window.dispatchEvent(new Event(self.VIEW_NOT_FOUND));
        }
      }

      self.doubleClickHandler = function (event) {
        var view = self.getVisibleView();
        var scaleValue = view ? self.getViewScaleValue(view) : 1;
        var scaleNeededToFit = view ? self.getViewFitToViewportScale(view) : 1;
        var scaleNeededToFitWidth = view ? self.getViewFitToViewportWidthScale(view) : 1;
        var scaleNeededToFitHeight = view ? self.getViewFitToViewportHeightScale(view) : 1;
        var scaleToFitType = self.scaleToFitType;

        // Three scenarios
        // - scale to fit on double click
        // - set scale to actual size on double click
        // - switch between scale to fit and actual page size

        if (scaleToFitType == "width") {
          scaleNeededToFit = scaleNeededToFitWidth;
        }
        else if (scaleToFitType == "height") {
          scaleNeededToFit = scaleNeededToFitHeight;
        }

        // if scale and actual size enabled then switch between
        if (self.scaleToFitOnDoubleClick && self.actualSizeOnDoubleClick) {
          var isViewScaled = view.getAttributeNS(null, self.SIZE_STATE_NAME);
          var isScaled = false;

          // if scale is not 1 then view needs scaling
          if (scaleNeededToFit != 1) {

            // if current scale is at 1 it is at actual size
            // scale it to fit
            if (scaleValue == 1) {
              self.scaleViewToFit(view);
              isScaled = true;
            }
            else {
              // scale is not at 1 so switch to actual size
              self.scaleViewToActualSize(view);
              isScaled = false;
            }
          }
          else {
            // view is smaller than viewport 
            // so scale to fit() is scale actual size
            // actual size and scaled size are the same
            // but call scale to fit to retain centering
            self.scaleViewToFit(view);
            isScaled = false;
          }

          view.setAttributeNS(null, self.SIZE_STATE_NAME, isScaled + "");
          isViewScaled = view.getAttributeNS(null, self.SIZE_STATE_NAME);
        }
        else if (self.scaleToFitOnDoubleClick) {
          self.scaleViewToFit(view);
        }
        else if (self.actualSizeOnDoubleClick) {
          self.scaleViewToActualSize(view);
        }

      }

      self.scaleViewToFit = function (view) {
        return self.setViewScaleValue(view, true);
      }

      self.scaleViewToActualSize = function (view) {
        self.setViewScaleValue(view, false, 1);
      }

      self.onloadHandler = function (event) {
        self.initialize();
      }

      self.setElementHTML = function (id, value) {
        var element = self.getElement(id);
        element.innerHTML = value;
      }

      self.getStackArray = function (error) {
        var value = "";

        if (error == null) {
          try {
            error = new Error("Stack");
          }
          catch (e) {

          }
        }

        if ("stack" in error) {
          value = error.stack;
          var methods = value.split(/\n/g);

          var newArray = methods ? methods.map(function (value, index, array) {
            value = value.replace(/\@.*/, "");
            return value;
          }) : null;

          if (newArray && newArray[0].includes("getStackTrace")) {
            newArray.shift();
          }
          if (newArray && newArray[0].includes("getStackArray")) {
            newArray.shift();
          }
          if (newArray && newArray[0] == "") {
            newArray.shift();
          }

          return newArray;
        }

        return null;
      }

      self.log = function (value) {
        console.log.apply(this, [value]);
      }

      // initialize on load
      // sometimes the body size is 0 so we call this now and again later
      window.addEventListener("load", self.onloadHandler);
      window.document.addEventListener("DOMContentLoaded", self.onloadHandler);
    }

    window.application = new Application();
  </script>
</head>

<body>
  <div id="ID2-Password_Change">
    <svg class="body-bg">
      <rect id="body-bg" rx="0" ry="0" x="0" y="0" width="515" height="563">
      </rect>
    </svg>
    <div id="logo">
      <div id="Group_65">
        <!-- <svg class="Path_1332" viewBox="0 0 36.228 37.738">
          <path id="Path_1332"
            d="M 3.677440404891968 0 L 32.55033111572266 0 C 34.58132934570312 0 36.2277717590332 1.646446347236633 36.2277717590332 3.677440404891968 L 36.2277717590332 34.06098556518555 C 36.2277717590332 36.09197998046875 34.58132934570312 37.73843002319336 32.55033111572266 37.73843002319336 L 3.677440404891968 37.73843002319336 C 1.646446347236633 37.73843002319336 0 36.09197998046875 0 34.06098556518555 L 0 3.677440404891968 C 0 1.646446347236633 1.646446347236633 0 3.677440404891968 0 Z">
          </path>
        </svg> -->
        <!-- <svg class="Path_14" viewBox="4.6 -70.5 115.35 19.695">
          <path id="Path_14"
            d="M 10.92546081542969 -64.86508941650391 C 12.82217788696289 -64.86508941650391 14.23090648651123 -64.40472412109375 15.15164089202881 -63.48397827148438 C 16.07238006591797 -62.56325531005859 16.53274536132812 -61.14531326293945 16.53274536132812 -59.23018646240234 L 16.53274536132812 -51.02641677856445 L 13.24571895599365 -51.02641677856445 L 13.24571895599365 -53.09807586669922 C 12.93266773223877 -52.37990570068359 12.44007301330566 -51.8182487487793 11.76793575286865 -51.41313171386719 C 11.09579658508301 -51.00799560546875 10.31777381896973 -50.80543899536133 9.433867454528809 -50.80543899536133 C 8.53154468536377 -50.80543899536133 7.712090015411377 -50.98958969116211 6.975500583648682 -51.35787963867188 C 6.238911151885986 -51.72618103027344 5.658846855163574 -52.23258209228516 5.235308170318604 -52.87710189819336 C 4.811769008636475 -53.5216178894043 4.59999942779541 -54.23978042602539 4.59999942779541 -55.03162384033203 C 4.59999942779541 -56.02601623535156 4.853202342987061 -56.80863952636719 5.359607219696045 -57.37950134277344 C 5.866012573242188 -57.95036697387695 6.690072536468506 -58.36468887329102 7.831785678863525 -58.62249755859375 C 8.973498344421387 -58.88030624389648 10.54795742034912 -59.00920486450195 12.5551643371582 -59.00920486450195 L 13.24571895599365 -59.00920486450195 L 13.24571895599365 -59.64450836181641 C 13.24571895599365 -60.56524658203125 13.04775810241699 -61.22817993164062 12.65184307098389 -61.63330841064453 C 12.25592517852783 -62.03842163085938 11.59760093688965 -62.24099349975586 10.6768627166748 -62.24099349975586 C 9.958686828613281 -62.24099349975586 9.208288192749023 -62.11669540405273 8.425661087036133 -61.86809539794922 C 7.643034934997559 -61.61949157714844 6.874219417572021 -61.27421569824219 6.119215965270996 -60.83226776123047 L 5.15244197845459 -63.20777130126953 C 5.907445430755615 -63.68655014038086 6.818974494934082 -64.08245849609375 7.887029647827148 -64.39552307128906 C 8.955083847045898 -64.70856475830078 9.967894554138184 -64.86508941650391 10.92546081542969 -64.86508941650391 Z M 10.12441825866699 -53.29142761230469 C 11.04515743255615 -53.29142761230469 11.79555797576904 -53.59987258911133 12.3756217956543 -54.21676635742188 C 12.95568466186523 -54.83367156982422 13.24571895599365 -55.63009643554688 13.24571895599365 -56.60608291625977 L 13.24571895599365 -57.1861457824707 L 12.74851989746094 -57.1861457824707 C 11.51473331451416 -57.1861457824707 10.55716609954834 -57.13089370727539 9.875821113586426 -57.02041244506836 C 9.194475173950195 -56.90993118286133 8.706485748291016 -56.7165641784668 8.411850929260254 -56.44035339355469 C 8.117215156555176 -56.16413497924805 7.969897270202637 -55.78662872314453 7.969897270202637 -55.30785369873047 C 7.969897270202637 -54.71857452392578 8.172458648681641 -54.23518371582031 8.577582359313965 -53.8576774597168 C 8.982705116271973 -53.48018264770508 9.498316764831543 -53.29142761230469 10.12441825866699 -53.29142761230469 Z M 32.44308090209961 -64.53362274169922 L 32.44308090209961 -51.02641677856445 L 29.07318115234375 -51.02641677856445 L 29.07318115234375 -53.09807586669922 C 28.64964485168457 -52.36148452758789 28.07878684997559 -51.79523086547852 27.36060905456543 -51.39931488037109 C 26.64243507385254 -51.00339889526367 25.83219146728516 -50.80543899536133 24.92986488342285 -50.80543899536133 C 21.61521530151367 -50.80543899536133 19.95788764953613 -52.66533660888672 19.95788764953613 -56.38510131835938 L 19.95788764953613 -64.53362274169922 L 23.41065216064453 -64.53362274169922 L 23.41065216064453 -56.35748672485352 C 23.41065216064453 -55.39991760253906 23.60400581359863 -54.69094085693359 23.99071502685547 -54.2305793762207 C 24.37742805480957 -53.77021408081055 24.98511123657227 -53.54003143310547 25.81377410888672 -53.54003143310547 C 26.77133941650391 -53.54003143310547 27.54015922546387 -53.8576774597168 28.1202220916748 -54.49299240112305 C 28.70028686523438 -55.12829971313477 28.99031639099121 -55.97076416015625 28.99031639099121 -57.02041244506836 L 28.99031639099121 -64.53362274169922 L 32.44308090209961 -64.53362274169922 Z M 42.93948745727539 -53.40192031860352 C 43.3446044921875 -53.40192031860352 43.76815032958984 -53.42954254150391 44.21009826660156 -53.48479080200195 L 44.04436111450195 -50.91593170166016 C 43.49192047119141 -50.86068344116211 42.98552703857422 -50.83306121826172 42.52515029907227 -50.83306121826172 C 40.62843704223633 -50.83306121826172 39.22891616821289 -51.27040863037109 38.32659149169922 -52.14511871337891 C 37.42426681518555 -53.01981353759766 36.97311401367188 -54.32265472412109 36.97311401367188 -56.05363845825195 L 36.97311401367188 -61.93714141845703 L 34.37663269042969 -61.93714141845703 L 34.37663269042969 -64.53362274169922 L 36.97311401367188 -64.53362274169922 L 36.97311401367188 -68.56645965576172 L 40.42586898803711 -68.56645965576172 L 40.42586898803711 -64.53362274169922 L 43.98911666870117 -64.53362274169922 L 43.98911666870117 -61.93714141845703 L 40.42586898803711 -61.93714141845703 L 40.42586898803711 -56.10888290405273 C 40.42586898803711 -54.30424118041992 41.26374053955078 -53.40192031860352 42.93948745727539 -53.40192031860352 Z M 52.38624954223633 -50.80543899536133 C 51.00514602661133 -50.80543899536133 49.79437637329102 -51.09086990356445 48.75393676757812 -51.66172790527344 C 47.7135009765625 -52.23258209228516 46.90785980224609 -53.05203628540039 46.33700180053711 -54.12009048461914 C 45.76614761352539 -55.18813705444336 45.48072052001953 -56.43114471435547 45.48072052001953 -57.84907150268555 C 45.48072052001953 -59.26701354980469 45.76614761352539 -60.50540542602539 46.33700180053711 -61.56425857543945 C 46.90785980224609 -62.62310409545898 47.7135009765625 -63.43793869018555 48.75393676757812 -64.00880432128906 C 49.79437637329102 -64.57965850830078 51.00514602661133 -64.86508941650391 52.38624954223633 -64.86508941650391 C 53.76734924316406 -64.86508941650391 54.97812271118164 -64.57965850830078 56.0185546875 -64.00880432128906 C 57.05898666381836 -63.43793869018555 57.86002731323242 -62.62310409545898 58.42168045043945 -61.56425857543945 C 58.98331832885742 -60.50540542602539 59.26415252685547 -59.26701354980469 59.26415252685547 -57.84907150268555 C 59.26415252685547 -56.43114471435547 58.98331832885742 -55.18813705444336 58.42168045043945 -54.12009048461914 C 57.86002731323242 -53.05203628540039 57.05898666381836 -52.23258209228516 56.0185546875 -51.66172790527344 C 54.97812271118164 -51.09086990356445 53.76734924316406 -50.80543899536133 52.38624954223633 -50.80543899536133 Z M 52.35862350463867 -53.48479080200195 C 53.4819221496582 -53.48479080200195 54.33821105957031 -53.85308074951172 54.92748260498047 -54.58966445922852 C 55.51675415039062 -55.32625579833984 55.81138610839844 -56.41272354125977 55.81138610839844 -57.84907150268555 C 55.81138610839844 -59.26701354980469 55.51675415039062 -60.348876953125 54.92748260498047 -61.09467315673828 C 54.33821105957031 -61.8404655456543 53.49113464355469 -62.2133674621582 52.38624954223633 -62.2133674621582 C 51.28135681152344 -62.2133674621582 50.42968368530273 -61.8404655456543 49.83119964599609 -61.09467315673828 C 49.23272323608398 -60.348876953125 48.9334831237793 -59.26701354980469 48.9334831237793 -57.84907150268555 C 48.9334831237793 -56.41272354125977 49.22812271118164 -55.32625579833984 49.81738662719727 -54.58966445922852 C 50.40665435791016 -53.85308074951172 51.25373840332031 -53.48479080200195 52.35862350463867 -53.48479080200195 Z M 68.26895904541016 -50.80543899536133 C 66.85102844238281 -50.80543899536133 65.621826171875 -51.09086990356445 64.58140563964844 -51.66172790527344 C 63.54096603393555 -52.23258209228516 62.74452972412109 -53.0428352355957 62.19210052490234 -54.09246826171875 C 61.63964080810547 -55.14210510253906 61.36342620849609 -56.3666877746582 61.36342620849609 -57.76621627807617 C 61.36342620849609 -59.16573333740234 61.65345764160156 -60.40412521362305 62.2335319519043 -61.48138427734375 C 62.81359100341797 -62.55864715576172 63.63764953613281 -63.39191055297852 64.70570373535156 -63.98118209838867 C 65.77375030517578 -64.57045745849609 67.00754547119141 -64.86508941650391 68.40705871582031 -64.86508941650391 C 69.3646240234375 -64.86508941650391 70.29917907714844 -64.71316528320312 71.21071624755859 -64.40932464599609 C 72.12225341796875 -64.10547637939453 72.85421752929688 -63.69574356079102 73.40666198730469 -63.18014526367188 L 72.41226959228516 -60.74939727783203 C 71.84140014648438 -61.20976638793945 71.23832702636719 -61.55964279174805 70.60302734375 -61.79904556274414 C 69.96771240234375 -62.03842163085938 69.33701324462891 -62.15812683105469 68.71090698242188 -62.15812683105469 C 67.51394653320312 -62.15812683105469 66.58400726318359 -61.78522491455078 65.92107391357422 -61.03942489624023 C 65.25814056396484 -60.29364013671875 64.92667388916016 -59.22097015380859 64.92667388916016 -57.82145309448242 C 64.92667388916016 -56.44035339355469 65.25814056396484 -55.37689590454102 65.92107391357422 -54.63109970092773 C 66.58400726318359 -53.88530349731445 67.51394653320312 -53.51239776611328 68.71090698242188 -53.51239776611328 C 69.33701324462891 -53.51239776611328 69.96771240234375 -53.63210296630859 70.60302734375 -53.87149429321289 C 71.23832702636719 -54.11088943481445 71.84140014648438 -54.46075820922852 72.41226959228516 -54.92112731933594 L 73.40666198730469 -52.51801681518555 C 72.81739044189453 -51.98398971557617 72.0623779296875 -51.56504821777344 71.14165496826172 -51.26120376586914 C 70.22091674804688 -50.95735549926758 69.26334381103516 -50.80543899536133 68.26895904541016 -50.80543899536133 Z M 83.43347930908203 -64.86508941650391 C 85.05398559570312 -64.86508941650391 86.26014709472656 -64.40472412109375 87.05199432373047 -63.48397827148438 C 87.84381866455078 -62.56325531005859 88.23973083496094 -61.17293930053711 88.23973083496094 -59.31304550170898 L 88.23973083496094 -51.02641677856445 L 84.78696441650391 -51.02641677856445 L 84.78696441650391 -59.11968994140625 C 84.78696441650391 -60.16932678222656 84.58900451660156 -60.93354797363281 84.19309997558594 -61.41232299804688 C 83.79718017578125 -61.89111328125 83.17568206787109 -62.13049697875977 82.32859802246094 -62.13049697875977 C 81.33419799804688 -62.13049697875977 80.53777313232422 -61.81744766235352 79.93929290771484 -61.19135665893555 C 79.34081268310547 -60.56524658203125 79.04156494140625 -59.72738265991211 79.04156494140625 -58.67774200439453 L 79.04156494140625 -51.02641677856445 L 75.58880615234375 -51.02641677856445 L 75.58880615234375 -70.5 L 79.04156494140625 -70.5 L 79.04156494140625 -62.65532684326172 C 79.50193786621094 -63.37349700927734 80.11421966552734 -63.92133331298828 80.87844085693359 -64.29883575439453 C 81.64266204833984 -64.67633819580078 82.49433135986328 -64.86508941650391 83.43347930908203 -64.86508941650391 Z M 103.5976257324219 -57.15852355957031 L 94.39946746826172 -57.15852355957031 C 94.50994873046875 -55.90632629394531 94.887451171875 -54.97637939453125 95.53197479248047 -54.36869812011719 C 96.17649841308594 -53.76100540161133 97.09722137451172 -53.4571647644043 98.29418182373047 -53.4571647644043 C 99.78575897216797 -53.4571647644043 101.1484527587891 -53.93593978881836 102.3822555541992 -54.89351272583008 L 103.3766479492188 -52.51801681518555 C 102.7505569458008 -52.00240325927734 101.9633178710938 -51.58806228637695 101.0149612426758 -51.27500534057617 C 100.0665969848633 -50.96197128295898 99.11362457275391 -50.80543899536133 98.15606689453125 -50.80543899536133 C 95.94631195068359 -50.80543899536133 94.20150756835938 -51.43153381347656 92.92167663574219 -52.68374633789062 C 91.641845703125 -53.93593978881836 91.001953125 -55.64851760864258 91.001953125 -57.82145309448242 C 91.001953125 -59.20256805419922 91.27816009521484 -60.4271354675293 91.83060455322266 -61.49519348144531 C 92.383056640625 -62.56325531005859 93.16107940673828 -63.39191055297852 94.16468048095703 -63.98118209838867 C 95.16828155517578 -64.57045745849609 96.30538940429688 -64.86508941650391 97.57600402832031 -64.86508941650391 C 99.43589019775391 -64.86508941650391 100.9044799804688 -64.26660919189453 101.9817352294922 -63.06964874267578 C 103.0589981079102 -61.87270355224609 103.5976257324219 -60.22457504272461 103.5976257324219 -58.12530136108398 L 103.5976257324219 -57.15852355957031 Z M 97.65888214111328 -62.43434143066406 C 96.73813629150391 -62.43434143066406 95.9969482421875 -62.13970947265625 95.43528747558594 -61.55044174194336 C 94.87363433837891 -60.96116638183594 94.52836608886719 -60.11409378051758 94.39946746826172 -59.00920486450195 L 100.6420669555664 -59.00920486450195 C 100.6052322387695 -60.13250350952148 100.3290100097656 -60.98418426513672 99.81340026855469 -61.56425857543945 C 99.29779052734375 -62.14430999755859 98.57960510253906 -62.43434143066406 97.65888214111328 -62.43434143066406 Z M 119.9499053955078 -51.02641677856445 L 115.6684646606445 -51.02641677856445 L 109.8678436279297 -57.1861457824707 L 109.8678436279297 -51.02641677856445 L 106.4150772094727 -51.02641677856445 L 106.4150772094727 -70.5 L 109.8678436279297 -70.5 L 109.8678436279297 -58.62249755859375 L 115.3094024658203 -64.50599670410156 L 119.5079650878906 -64.50599670410156 L 113.4310913085938 -58.04242706298828 L 119.9499053955078 -51.02641677856445 Z">
          </path>
        </svg> -->
      </div>
      <div id="Group_74">
        <div id="Group_63">
          <!-- <svg class="Path_2" viewBox="189.62 528.171 24.359 22.407">
            <path id="Path_2"
              d="M 208.2636566162109 528.1708984375 L 200.8526916503906 528.1708984375 C 198.1788787841797 528.16259765625 195.7701873779297 529.7922973632812 194.786865234375 532.2782592773438 L 193.8145446777344 534.7062377929688 L 190.3203735351562 534.7062377929688 C 190.2623291015625 534.7062377929688 190.2071075439453 534.7117309570312 190.1518402099609 534.7257080078125 C 189.7762298583984 534.8195190429688 189.5469207763672 535.20068359375 189.6408386230469 535.576416015625 L 189.9916381835938 536.9767456054688 C 190.0690002441406 537.2889404296875 190.3479614257812 537.5072021484375 190.6711578369141 537.5072021484375 L 191.8423767089844 537.5072021484375 C 191.4472961425781 537.8496704101562 191.1269073486328 538.26953125 190.9032135009766 538.7418823242188 C 190.6711578369141 539.2308349609375 190.5523529052734 539.7666015625 190.5523529052734 540.3079833984375 L 190.5523529052734 543.1089477539062 C 190.5523529052734 543.5646362304688 190.6380157470703 544.0148315429688 190.8037719726562 544.4375 C 190.9667053222656 544.8462524414062 191.1959838867188 545.2247314453125 191.4859924316406 545.5562744140625 L 191.4859924316406 548.7105712890625 C 191.48876953125 549.7409057617188 192.3229827880859 550.5751953125 193.353271484375 550.5780029296875 L 195.2205200195312 550.5780029296875 C 196.2535705566406 550.5751953125 197.0877532958984 549.7409057617188 197.0877532958984 548.7105712890625 L 197.0877532958984 546.8433837890625 L 204.8109283447266 546.8433837890625 C 203.5292663574219 545.1723022460938 202.8386840820312 543.1254272460938 202.8469696044922 541.0206298828125 C 202.8469696044922 539.473876953125 203.2199096679688 537.9463500976562 203.935302734375 536.5736083984375 L 197.0877532958984 536.5736083984375 L 198.2507019042969 533.6649169921875 C 198.6732788085938 532.5986328125 199.7063446044922 531.8997802734375 200.8526916503906 531.9053344726562 L 208.2636566162109 531.9053344726562 C 208.5399017333984 531.9053344726562 208.8133544921875 531.9439697265625 209.0757293701172 532.0242309570312 C 210.1558074951172 531.6182250976562 211.2993469238281 531.4136352539062 212.4539794921875 531.4136352539062 C 212.9649505615234 531.4136352539062 213.4731903076172 531.4551391601562 213.9786987304688 531.5352783203125 C 212.8323516845703 529.45263671875 210.6391296386719 528.16259765625 208.2636566162109 528.1708984375 Z M 198.0214080810547 542.1669311523438 C 198.0324554443359 542.5343017578125 197.7893981933594 542.8602905273438 197.4330749511719 542.9515380859375 C 197.0104522705078 543.072998046875 196.5712432861328 543.1254272460938 196.1320495605469 543.1089477539062 C 195.9690704345703 543.1089477539062 195.8088684082031 543.1061401367188 195.6514129638672 543.1034545898438 C 195.49951171875 543.1006469726562 195.3586273193359 543.097900390625 195.2205200195312 543.097900390625 C 195.1542358398438 543.1006469726562 195.0851440429688 543.1006469726562 195.0161285400391 543.097900390625 C 194.0438385009766 543.0426635742188 193.3007965087891 542.20849609375 193.353271484375 541.236083984375 C 193.3505249023438 541.1670532226562 193.3505249023438 541.0979614257812 193.3560485839844 541.0316772460938 C 193.4140319824219 540.056640625 194.2482452392578 539.3163452148438 195.2205200195312 539.3743896484375 C 195.7397918701172 539.3743896484375 196.4386749267578 539.747314453125 197.0435943603516 540.352294921875 C 197.6457214355469 540.9544067382812 198.0214080810547 541.6504516601562 198.0214080810547 542.1669311523438 Z">
            </path>
          </svg> -->
        </div>
        <!-- <svg class="Path_24" viewBox="1002.582 227.403 14.155 14.155">
          <path id="Path_24"
            d="M 1009.659423828125 227.4030303955078 C 1005.750732421875 227.4030303955078 1002.582153320312 230.5717163085938 1002.582153320312 234.48046875 C 1002.582153320312 238.38916015625 1005.750732421875 241.5578765869141 1009.659423828125 241.5578765869141 C 1013.568115234375 241.5578765869141 1016.737182617188 238.38916015625 1016.737182617188 234.48046875 C 1016.737182617188 230.5717163085938 1013.568115234375 227.4030303955078 1009.659423828125 227.4030303955078 Z M 1013.4609375 230.9447021484375 C 1011.13623046875 233.4763641357422 1009.30224609375 236.2914581298828 1008.317260742188 239.6149597167969 C 1008.302001953125 239.6664733886719 1008.265991210938 239.7117462158203 1008.274536132812 239.6957092285156 C 1007.166137695312 238.5279388427734 1006.0498046875 237.351318359375 1004.847045898438 236.0838470458984 C 1005.193725585938 235.6354064941406 1005.639892578125 235.0587615966797 1006.147216796875 234.4030151367188 C 1006.910888671875 235.2250518798828 1007.59326171875 235.9588470458984 1008.336791992188 236.7592163085938 C 1009.633178710938 234.0911102294922 1011.199462890625 231.6791381835938 1013.588745117188 229.91796875 L 1013.816162109375 230.0183563232422 C 1013.70166015625 230.3309783935547 1013.668823242188 230.7183380126953 1013.4609375 230.9447021484375 Z">
          </path>
        </svg> -->
      </div>
    </div>
    <div id="reset-info">
      <span>Need to reset your password? Please click on the button below to continue.</span>
    </div>
    <div id="ignore-info">
      <span>If you didn’t request to change your password, please delete this email</span>
    </div>
    <div id="Changing_your_Autochek_Passwor">
      <span>Changing your Criateur Password</span>
    </div>
    <div id="Reset-Button">
      <svg class="Rectangle_142">
        <rect id="Rectangle_142" rx="3" ry="3" x="0" y="0" width="252" height="56">
        </rect>
      </svg>
      <div id="Unique_opportunities">
        <span>RESET MY PASSWORD</span>
      </div>
    </div>
    <svg class="divider" viewBox="0 0 459 1">
      <path id="divider" d="M 0 0 L 459 0">
      </path>
    </svg>
    <div id="Youre_receiving_this_mandatory">
      <span>You’re receiving this mandatory email service announcement to update you about important changes to your
        Criateur account.</span>
    </div>
  </div>
</body>

</html>